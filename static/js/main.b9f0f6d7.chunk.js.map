{"version":3,"sources":["components/NetworkGraph/examples/basic/tiny_grid.png","utils/constants.js","containers/App/reducer.js","containers/Dashboard/reducer.js","reducers.js","containers/App/saga.js","containers/Dashboard/action.js","utils/urls.js","utils/apiHelper.js","utils/goodreads.js","containers/Dashboard/saga.js","sagas.js","configureStore.js","containers/Home/index.jsx","components/UserProfile/index.jsx","components/NetworkGraph/components/Node/index.js","components/NetworkGraph/components/Link/index.js","components/NetworkGraph/components/Universe/index.js","components/NetworkGraph/index.js","components/BookCover/index.jsx","components/BookLibrary/index.jsx","components/Settings/index.js","utils/graphHelper.js","containers/Dashboard/index.jsx","containers/App/index.jsx","serviceWorker.js","index.js","assets/images/goodreads-logo-transparent.png"],"names":["module","exports","FETCH_START","FETCH_END","initialState","isLoading","app","state","arguments","length","undefined","type","ActionTypes","Object","objectSpread","userId","userInfo","userData","dashboard","action","user","rootReducer","combineReducers","helloWorld","runtime_regenerator_default","a","wrap","_context","prev","next","put","message","stop","_marked","this","saga","takeEvery","errorOccured","err","getUserInfoSuccess","getUserDataSuccess","grApiRoot","wrapByLoader","getGetParams","method","headers","Content-Type","handleResponse","response","status","error","code","statusText","Promise","reject","json","then","fetchApi","url","params","fetch","catch","fn","apiHelper_marked","getUserInfo","concat","getBooksOnShelf","shelf","Dashboard_saga","takeLatest","regenerator_default","mark","_callee","call","Goodreads","sent","Actions","t0","_callee2","shelves","bookOnShelves","_context2","user_shelves","user_shelf","map","name","all","idx","books","book","rootSaga","toConsumableArray","appSaga","dashboardSaga","sagas_marked","sagaMiddleware","createSagaMiddleware","Search","Input","Home","props","react_default","createElement","layout","className","row","col","span","src","goodReadsLogo","width","alt","placeholder","onSearch","searchHandler","Meta","Card","UserProfile","card","bordered","avatar","image","size","title","href","link","target","rel","description","Node","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","clickHandler","bind","assertThisInitialized","doubleClickHandler","mouseOverHandler","mouseOutHandler","clickTimeout","_this2","clearTimeout","setTimeout","onClick","data","id","onDoubleClick","event","x","onMouseOver","text","onMouseOut","_this$props","radius","color","y","style","transform","cursor","r","fill","getThumbnail","Component","img","shortText","textStyle","xlinkHref","clipPath","dx","dy","fontSize","defaultProps","stroke","strokeWidth","fontWeight","Link","d","pointer","getPointer","markerEnd","getLabel","viewBox","refX","arrowOffset","refY","markerWidth","markerHeight","orient","opacity","startOffset","pointerEvents","textAnchor","Universe","getArcPath","getLinks","nextProps","setState","source","links","filter","l","scale","sweep","clockwise","x1","y1","x2","y2","siblings","linkIdx","scaleOrdinal","domain","range","arcScale","dr","Math","sqrt","_this$state","nodes","reduce","acc","push","components_Link","key","node","components_Node","assign","NetworkGraph","simulation","initSimulation","height","k","tooltip","top","left","initZoomHandler","updateSimulation","onTick","svg","React","createRef","interval","fps","millis","Date","now","current","clientWidth","clientHeight","newProps","_this3","linkForce","forceLink","strength","distance","forceSimulation","force","_this4","select","zoomHandler","zoom","on","_this5","attraceForceStrength","chargeStrength","collisionRadiusOffset","collisionStrength","animation","velocityDecay","alphaStart","cluster","clusterRadiusScale","forEach","sourceNode","targetNode","forceCenter","forceManyBody","forceCollide","clusters","uniqBy","arr","cos","PI","random","sin","alpha","applyClusterForce","alphaTarget","restart","tick","e","currentTime","payload","clientY","clientX","_this$state2","ref","components_Universe","vx","vy","backgroundColor","overflow","position","imgStyle","transition","BookCover","_ref","index","photo","margin","direction","lib_default","BookLibrary","react_photo_gallery_esm","photos","small_image_url","replace","str","tmp","split","obj","window","open","columns","ImageComponent","CheckboxGroup","Checkbox","Group","plainOptions","Settings","defaultOptions","option","settings","updateState","updateFps","updateCluster","updateAnimation","updateAlphaStart","updateVelocityDecay","updateChargeStrength","updateCollisionStrength","updateClusterRadiusScale","updateCollisionRadiusOffset","updateAttracForceStrength","val","onChange","_this$state$settings","borderBottom","padding","options","value","checked","indexOf","es_tooltip","placement","slider","defaultValue","max","min","step","onAfterChange","es_button","onReset","block","minifyString","slice","word","charAt","toUpperCase","join","SubMenu","Menu","Content","Layout","Sider","TreeNode","Tree","mapDispatchToProps","getUserData","defaultGraphSettings","Dashboard","localStorage","getItem","selectedShelf","selectedShelves","selectedMenu","graphSettings","JSON","parse","console","log","onSelect","onCheck","onSettingsChange","onSettingsReset","match","selectedKeys","info","checkedKeys","setItem","stringify","removeItem","location","reload","background","es_Link","to","getUserComponent","getMenu","breadcrumb","Item","backgroundImage","bgImage","getContent","context","_context$state","_getGraphData","bookNodes","authorNodes","publisherNodes","property","author","authors","$t","image_url","publisher","sourceType","targetType","publicationYear","publication_year","publicationMonth","publication_month","publicationDay","publication_day","values","getGraphData","components_NetworkGraph","getBookLibrary","components_UserProfile","userName","user_name","about","last_active","menu","mode","defaultOpenKeys","borderRight","theme","selectable","icon","tree","checkable","published","disableCheckbox","disabled","components_Settings","bookShelf","find","sh","components_BookLibrary","connect","App","history","spin","spinning","delay","Switch","Route","exact","path","component","containers_Home","Redirect","withRouter","Boolean","hostname","store","middlewares","enhancers","applyMiddleware","apply","composeEnhancers","compose","createStore","runSaga","run","injectedReducers","injectedSagas","configureStore","ReactDOM","render","es","BrowserRouter","containers_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","__webpack_require__","p"],"mappings":"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","file":"static/js/main.b9f0f6d7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII=\"","export const HELLO_WORLD = 'HELLO_WORLD'\nexport const FETCH_START = 'FETCH_START'\nexport const ERROR_OCCURED = 'ERROR_OCCURED'\nexport const NETWORK_ERROR_OCCURED = 'NETWORK_ERROR_OCCURED'\nexport const FETCH_END = 'FETCH_END'\n\nexport const FETCH_USER_INFO = 'FETCH_USER_INFO'\nexport const FETCH_USER_INFO_SUCCESS = 'FETCH_USER_INFO_SUCCESS'\nexport const FETCH_USER_DATA = 'FETCH_USER_DATA'\nexport const FETCH_USER_DATA_SUCCESS = 'FETCH_USER_DATA_SUCCESS'\n","import * as ActionTypes from '../../utils/constants'\n\nconst initialState = {\n  isLoading: 0\n}\n\nconst app = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_START: {\n      return { ...state, isLoading: state.isLoading + 1 }\n    }\n    case ActionTypes.FETCH_END: {\n      return { ...state, isLoading: state.isLoading - 1 }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default app\n","import * as ActionTypes from '../../utils/constants'\n\nconst initialState = {\n  userId: null,\n  userInfo: null,\n  userData: null\n}\n\nconst dashboard = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_USER_INFO: {\n      const { userId } = action\n      return { ...state, userId }\n    }\n    case ActionTypes.FETCH_USER_INFO_SUCCESS: {\n      const { userInfo } = action\n      return { ...state, userInfo: userInfo.user }\n    }\n    case ActionTypes.FETCH_USER_DATA: {\n      const { userId } = action\n      return { ...state, userId }\n    }\n    case ActionTypes.FETCH_USER_DATA_SUCCESS: {\n      const { userData } = action\n      return { ...state, userData: userData.user }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default dashboard\n","import { combineReducers } from 'redux'\nimport app from './containers/App/reducer'\nimport dashboard from './containers/Dashboard/reducer'\n\nconst rootReducer = combineReducers({ app, dashboard })\n\nexport default rootReducer\n","import { takeEvery, put } from 'redux-saga/effects'\nimport * as ActionTypes from '../../utils/constants'\n\nfunction * helloWorld () {\n  yield put({ type: 'SUCCESS', message: 'Hello World' })\n}\n\nexport default [\n  takeEvery(ActionTypes.HELLO_WORLD, helloWorld)\n]\n","import {\n  FETCH_USER_INFO,\n  FETCH_USER_INFO_SUCCESS,\n  FETCH_USER_DATA,\n  FETCH_USER_DATA_SUCCESS,\n  ERROR_OCCURED\n} from '../../utils/constants'\n\nexport const errorOccured = err => ({\n  type: ERROR_OCCURED,\n  err\n})\n\nexport const getUserInfo = userId => ({\n  type: FETCH_USER_INFO,\n  userId\n})\n\nexport const getUserInfoSuccess = userInfo => ({\n  type: FETCH_USER_INFO_SUCCESS,\n  userInfo\n})\n\nexport const getUserData = userId => ({\n  type: FETCH_USER_DATA,\n  userId\n})\n\nexport const getUserDataSuccess = userData => ({\n  type: FETCH_USER_DATA_SUCCESS,\n  userData\n})\n","export const grApiRoot = 'https://uqh87q11i5.execute-api.us-east-1.amazonaws.com/prod'\n","/* global fetch */\nimport { put } from 'redux-saga/effects'\nimport * as ActionTypes from './constants'\n\nexport const getGetParams = () => ({\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\nexport const handleResponse = (response) => {\n  if (response.status !== 200) {\n    const error = {\n      error: {\n        code: response.status,\n        message: 'Fetch error'\n      },\n      status: response.status,\n      statusText: response.statusText\n    }\n    return Promise.reject(error)\n  }\n  return response.json().then(json => json)\n}\n\nexport const fetchApi = (url, params) =>\n  fetch(url)\n    .then(handleResponse)\n    .catch(err => err)\n\nexport function * wrapByLoader (fn) {\n  yield put({ type: ActionTypes.FETCH_START })\n  yield fn()\n  yield put({ type: ActionTypes.FETCH_END })\n}\n","import { grApiRoot } from './urls'\nimport { getGetParams, fetchApi } from './apiHelper'\n\nexport function getUserInfo (userId) {\n  const url = `${grApiRoot}/user/show?id=${userId}`\n  return fetchApi(url, getGetParams())\n}\n\nexport function getBooksOnShelf (userId, shelf) {\n  const url = `${grApiRoot}/review/list?id=${userId}&shelf=${shelf}&per_page=200`\n  return fetchApi(url, getGetParams())\n}\n","import { takeLatest, put, call, all } from 'redux-saga/effects'\nimport * as ActionTypes from '../../utils/constants'\nimport * as Actions from './action'\nimport * as Goodreads from '../../utils/goodreads'\nimport { wrapByLoader } from '../../utils/apiHelper'\n\nconst getUserInfo = action =>\n  wrapByLoader(function * () {\n    try {\n      const response = yield call(Goodreads.getUserInfo, action.userId)\n      if (!response.error) {\n        const userInfo = response\n        yield put(Actions.getUserInfoSuccess(userInfo))\n      } else {\n        yield put(Actions.errorOccured(response))\n      }\n    } catch (err) {\n      yield put(Actions.errorOccured(err))\n    }\n  })\n\nconst getUserData = action =>\n  wrapByLoader(function * () {\n    try {\n      const response = yield call(Goodreads.getUserInfo, action.userId)\n      if (!response.error) {\n        const userData = response\n        const shelves = userData.user.user_shelves.user_shelf.map(shelf => shelf.name)\n        const bookOnShelves = yield all(\n          shelves.map(\n            shelf => call(Goodreads.getBooksOnShelf, action.userId, shelf)\n          )\n        )\n        userData.user.user_shelves = bookOnShelves.map((shelf, idx) => ({\n          name: shelves[idx],\n          books: shelf.books ? shelf.books : { book: [] }\n        }))\n        yield put(Actions.getUserDataSuccess(userData))\n      } else {\n        yield put(Actions.errorOccured(response))\n      }\n    } catch (err) {\n      yield put(Actions.errorOccured(err))\n    }\n  })\n\nexport default [\n  takeLatest(ActionTypes.FETCH_USER_INFO, getUserInfo),\n  takeLatest(ActionTypes.FETCH_USER_DATA, getUserData)\n]\n","import { all } from 'redux-saga/effects'\nimport appSaga from './containers/App/saga'\nimport dashboardSaga from './containers/Dashboard/saga'\n\nfunction * rootSaga () {\n  yield all([\n    ...appSaga,\n    ...dashboardSaga\n  ])\n}\n\nexport default rootSaga\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport rootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst sagaMiddleware = createSagaMiddleware()\n\nexport default function configureStore (initialState = {}) {\n  const middlewares = [sagaMiddleware]\n\n  const enhancers = [\n    applyMiddleware(...middlewares)\n  ]\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n  process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : compose\n  /* eslint-enable */\n\n  const store = createStore(\n    rootReducer,\n    // fromJS(initialState),\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  // Extensions\n  store.runSaga = sagaMiddleware.run(rootSaga)\n  store.injectedReducers = {} // Reducer registry\n  store.injectedSagas = {} // Saga registry\n\n  // if(module.hot) {\n  //   // Enable Webpack hot module replacement for reducers\n  //   module.hot.accept('../reducers', () => {\n  //     const nextReducer = require('../reducers').default\n  //     store.replaceReducer(nextReducer)\n  //   })\n  // }\n\n  return store\n}\n","import React from 'react'\n\n// antd components\nimport { Row, Col, Layout, Input } from 'antd'\n\nimport './style.css'\n\nimport goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\n\nconst { Search } = Input\n\nconst Home = (props) => (\n  <Layout className='Home' >\n    <Row className='center'>\n      <Col span={6} />\n      <Col span={12}>\n        <img\n          src={goodReadsLogo}\n          width='100%'\n          alt='Goodreads'\n        />\n      </Col>\n      <Col span={6} />\n    </Row>\n    <Row className='center'>\n      <Col span={8} />\n      <Col span={8}>\n        <Search\n          placeholder='Enter user id'\n          onSearch={props.searchHandler}\n          // value='88517742' // seting default userId for dev\n        />\n      </Col>\n      <Col span={8} />\n    </Row>\n  </Layout>\n)\n\nexport default Home\n","import React from 'react'\n\n// antd components\nimport { Avatar, Card } from 'antd'\n\nimport './style.css'\n\nconst { Meta } = Card\n\nconst UserProfile = props => (\n  <Card\n    bordered={false}\n    className='userCard'\n  >\n    <Meta\n      avatar={\n        <Avatar src={props.user.image} size='large' />\n      }\n      title={\n        <a\n          href={props.user.link}\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          {props.user.name}\n        </a>\n      }\n      description={props.user.description}\n    />\n  </Card>\n)\n\nexport default UserProfile\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n// import './style.css'\n\nclass Node extends Component {\n  constructor () {\n    super()\n    this.clickHandler = this.clickHandler.bind(this)\n    this.doubleClickHandler = this.doubleClickHandler.bind(this)\n    this.mouseOverHandler = this.mouseOverHandler.bind(this)\n    this.mouseOutHandler = this.mouseOutHandler.bind(this)\n    // for click vs dblclick\n    this.clickTimeout = null\n  }\n\n  clickHandler () {\n    if (this.clickTimeout) {\n      clearTimeout(this.clickTimeout)\n      this.clickTimeout = null\n      this.doubleClickHandler()\n    } else {\n      this.clickTimeout = setTimeout(() => {\n        if (this.props.onClick) {\n          this.props.onClick({\n            type: 'NODE',\n            data: this.props.id\n          })\n        }\n      }, 300)\n    }\n  }\n\n  doubleClickHandler () {\n    if (this.props.onDoubleClick) {\n      this.props.onDoubleClick({\n        type: 'NODE',\n        data: this.props.id\n      })\n    }\n  }\n\n  mouseOverHandler (event, x) {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver({\n        type: 'NODE',\n        data: {\n          id: this.props.id,\n          text: this.props.text,\n          type: this.props.type\n        },\n        event\n      })\n    }\n  }\n\n  mouseOutHandler (event) {\n    if (this.props.onMouseOut) {\n      this.props.onMouseOut({\n        type: 'NODE',\n        data: {\n          id: this.props.id,\n          text: this.props.text,\n          type: this.props.type\n        },\n        event\n      })\n    }\n  }\n\n  render () {\n    const {\n      className,\n      radius,\n      color,\n      x,\n      y,\n      style\n    } = this.props\n    return (\n      <g\n        className={className}\n        transform={`translate(${x},${y})`}\n        onClick={this.clickHandler}\n        style={{\n          cursor: 'pointer'\n        }}\n        onMouseOver={this.mouseOverHandler}\n        onMouseOut={this.mouseOutHandler}\n      >\n        <circle\n          r={radius}\n          fill={color}\n          style={style}\n        />\n        {\n          getThumbnail(this.props)\n        }\n      </g>\n    )\n  }\n}\n\nconst getThumbnail = (props) => {\n  const { id, img, radius, shortText, textStyle } = props\n  if (img) {\n    return (\n      <g>\n        <defs>\n          <clipPath\n            id={`clip_${id}`}\n          >\n            <circle\n              r={radius - 1}\n              // fill={bgColor}\n            />\n          </clipPath>\n        </defs>\n        <image\n          xlinkHref={img}\n          clipPath={`url(#clip_${id})`}\n          x={-radius}\n          y={-radius}\n          width={radius * 2}\n        />\n      </g>\n    )\n  } else {\n    return (\n      <text\n        dx={-radius / 2}\n        dy={textStyle.fontSize / 2}\n        style={textStyle}\n      >\n        {shortText}\n      </text>\n    )\n  }\n}\n\nNode.defaultProps = {\n  className: 'node',\n  radius: 35,\n  color: '#FFFFFF',\n  style: {\n    r: 35,\n    stroke: '#375E97',\n    strokeWidth: '3px'\n  },\n  textStyle: {\n    fontSize: 15,\n    fill: '#fff',\n    strokeWidth: '3px',\n    fontWeight: 'normal'\n  }\n}\n\nNode.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  shortText: PropTypes.string,\n  className: PropTypes.string,\n  img: PropTypes.string,\n  color: PropTypes.string,\n  radius: PropTypes.number,\n  style: PropTypes.shape({\n    r: PropTypes.number,\n    stroke: PropTypes.string,\n    strokeWidth: PropTypes.string\n  }),\n  textStyle: PropTypes.shape({\n    fontSize: PropTypes.number,\n    fill: PropTypes.string,\n    strokeWidth: PropTypes.string,\n    fontWeight: PropTypes.string\n  }),\n  x: PropTypes.number,\n  y: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func\n}\n\nexport default Node\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Link extends Component {\n  render () {\n    const { d, pointer, style, id } = this.props\n    return (\n      <g>\n        { getPointer(this.props) }\n        <path\n          id={id}\n          style={style}\n          d={d}\n          markerEnd={pointer ? `url(#${id}_pointer)` : pointer}\n        />\n        { getLabel(this.props) }\n      </g>\n    )\n  }\n}\n\nconst getPointer = (props) => {\n  if (props.pointer) {\n    return (\n      <defs>\n        <marker\n          id={`${props.id}_pointer`}\n          viewBox='0 -5 10 10'\n          refX={props.arrowOffset}\n          refY='-2'\n          markerWidth='6'\n          markerHeight='6'\n          orient='auto'\n        >\n          <path\n            d='M0,-5L10,0L0,5'\n            fill='#666'\n            style={{\n              opacity: 1\n            }} />\n        </marker>\n      </defs>\n    )\n  }\n}\n\nconst getLabel = (props) => {\n  if (props.type) {\n    return (\n      <text>\n        <textPath\n          dx={0}\n          dy={5}\n          href={`#${props.id}`}\n          startOffset='50%'\n          style={props.textStyle}\n        >\n          {props.type}\n        </textPath>\n      </text>\n    )\n  }\n}\n\nLink.defaultProps = {\n  style: {\n    strokeWidth: 1.5,\n    fill: 'none',\n    stroke: 'gba(50, 50, 50, 0.2)'\n  },\n  textStyle: {\n    pointerEvents: 'none',\n    textAnchor: 'middle',\n    fill: '#333'\n  },\n  pointer: true\n}\n\nLink.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  style: PropTypes.object,\n  textStyle: PropTypes.object,\n  d: PropTypes.string.isRequired,\n  pointer: PropTypes.bool\n}\n\nexport default Link\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { scaleOrdinal } from 'd3-scale'\n\nimport Node from '../Node'\nimport Link from '../Link'\n\nclass Universe extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      ...this.props\n    }\n\n    this.getArcPath = this.getArcPath.bind(this)\n    this.getLinks = this.getLinks.bind(this)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({ ...nextProps })\n  }\n\n  getLinks (source, target) {\n    return this.state.links\n      .filter(\n        link =>\n          link.source.id === source.id &&\n          link.target.id === target.id\n      )\n      .map(l => l.type)\n  }\n\n  getArcPath (link, clockwise = true) {\n    const x1 = clockwise ? link.source.x : link.target.x\n    const y1 = clockwise ? link.source.y : link.target.y\n    const x2 = clockwise ? link.target.x : link.source.x\n    const y2 = clockwise ? link.target.y : link.source.y\n    const dx = x2 - x1\n    const dy = y2 - y1\n    const siblings = this.getLinks(link.source, link.target)\n    // const siblingCount = siblings.length\n    const siblingCount = 2\n    const xRotation = 0\n    const largeArc = 0\n\n    if (siblingCount > 1) {\n      // console.log(siblings)\n      const arcScale = scaleOrdinal()\n        .domain(siblings)\n        .range([1, siblingCount])\n      const linkIdx = arcScale(link.type)\n      let scale\n      let sweep\n      if (linkIdx === 1) {\n        sweep = 1\n        scale = 1\n        // return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n      } else if (linkIdx % 2 === 0) {\n        sweep = 0\n        scale = linkIdx / 2\n      } else if (linkIdx % 3 === 0) {\n        sweep = 1\n        scale = linkIdx / 3 + 1\n      }\n      const dr =\n        Math.sqrt(dx * dx + dy * dy) / (1 + (1 / siblingCount) * (scale - 1))\n      return `M${x1},${y1}A${dr * 1.7},${dr *\n        1.7} ${xRotation}, ${largeArc}, ${sweep} ${x2},${y2}`\n    }\n    return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n  }\n\n  render () {\n    const { nodes, links } = this.state\n    return (\n      <g\n        className={this.props.className}\n        transform={this.props.transform}\n      >\n        <g className='links'>\n          {\n            links.reduce((acc, link, idx) => {\n              if (typeof link.source === 'object' && typeof link.target === 'object') {\n                acc.push(\n                  <Link\n                    key={idx}\n                    data={link}\n                    d={this.getArcPath(link)}\n                    style={link.style}\n                    id={link.id}\n                    type={link.type}\n                    arrowOffset={link.target.radius * 1.45}\n                  />\n                )\n                return acc\n              }\n              return acc\n            }, [])\n          }\n        </g>\n        <g className='nodes'>\n          {\n            nodes.map((node, idx) =>\n              <Node\n                key={idx}\n                onClick={this.props.onClick}\n                onDoubleClick={this.props.onDoubleClick}\n                onMouseOver={this.props.onMouseOver}\n                onMouseOut={this.props.onMouseOut}\n                {...node}\n              />\n            )\n          }\n        </g>\n      </g>\n    )\n  }\n}\n\nUniverse.defaultProps = {\n  className: 'universe',\n  nodes: [],\n  links: []\n}\n\nUniverse.propTypes = {\n  className: PropTypes.string,\n  nodes: PropTypes.array,\n  links: PropTypes.array,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func\n}\n\nexport default Universe\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { select, event } from 'd3-selection'\nimport {\n  forceLink,\n  forceSimulation,\n  forceCenter,\n  forceManyBody,\n  forceCollide\n} from 'd3-force'\nimport { zoom } from 'd3-zoom'\nimport { uniqBy } from 'lodash'\n\nimport Universe from './components/Universe'\n\nimport './style.css'\n\nclass NetworkGraph extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      nodes: [],\n      links: [],\n      simulation: this.initSimulation(),\n      width: 100,\n      height: 100,\n      transform: {\n        x: 0,\n        y: 0,\n        k: 1\n      },\n      tooltip: {\n        text: '',\n        style: {\n          opacity: 0,\n          top: 0,\n          left: 0\n        }\n      }\n    }\n    this.initSimulation = this.initSimulation.bind(this)\n    this.initZoomHandler = this.initZoomHandler.bind(this)\n    this.updateSimulation = this.updateSimulation.bind(this)\n    this.onTick = this.onTick.bind(this)\n    this.svg = React.createRef()\n    this.nodes = []\n    this.links = []\n\n    // to timit fps\n    this.interval = (1000 / this.props.fps)\n    this.millis = Date.now()\n\n    // mouseevents\n    this.mouseOverHandler = this.mouseOverHandler.bind(this)\n    this.mouseOutHandler = this.mouseOutHandler.bind(this)\n  }\n\n  componentDidMount () {\n    this.initZoomHandler()\n    this.setState({\n      ...this.props,\n      width: this.svg.current.clientWidth,\n      height: this.svg.current.clientHeight\n    }, () => {\n      this.updateSimulation()\n    })\n  }\n\n  componentWillReceiveProps (newProps) {\n    this.setState({\n      ...newProps\n    }, () => {\n      this.interval = (1000 / this.state.fps)\n      this.updateSimulation()\n    })\n  }\n\n  initSimulation () {\n    const linkForce = forceLink()\n      .id(link => link.id)\n      .strength(link => link.strength)\n      .distance(link => link.distance)\n    const simulation = forceSimulation().force('link', linkForce)\n\n    return simulation\n  }\n\n  initZoomHandler () {\n    // TODO: replace select dependency\n    // add zoom capabilities\n    const svg = select('.svgGraph')\n    const zoomHandler = zoom().on('zoom', () => {\n      this.setState({\n        transform: event.transform\n      })\n    })\n    svg.call(zoomHandler).on('dblclick.zoom', null)\n  }\n\n  updateSimulation () {\n    const {\n      nodes,\n      links,\n      simulation,\n      width,\n      height,\n      attraceForceStrength,\n      chargeStrength,\n      collisionRadiusOffset,\n      collisionStrength,\n      animation,\n      velocityDecay,\n      alphaStart,\n      cluster,\n      clusterRadiusScale\n    } = this.state\n\n    this.nodes = nodes\n    this.links = []\n\n    // bind nodes to links\n    links.forEach(link => {\n      const sourceNode = this.nodes.filter(\n        node => node.id === link.source\n      )[0]\n      const targetNode = this.nodes.filter(\n        node => node.id === link.target\n      )[0]\n      if (sourceNode && targetNode) {\n        this.links.push({\n          ...link,\n          source: sourceNode,\n          target: targetNode\n        })\n      }\n    })\n    simulation\n      .nodes(this.nodes)\n      .on('tick', this.onTick)\n    simulation.force('link').links(this.links)\n    simulation\n      .force('center', forceCenter(width / 2, height / 2))\n      .force('attraceForce', forceManyBody().strength(attraceForceStrength))\n      .force('charge', forceManyBody().strength(chargeStrength))\n      .force(\n        'collision',\n        forceCollide()\n          .radius(node => node.radius + collisionRadiusOffset)\n          .strength(collisionStrength)\n      )\n\n    // Enable clustering of nodes of same type\n    if (cluster) {\n      const clusters = {}\n      const nodeTypes = uniqBy(this.nodes, 'type').map(type => type.type)\n\n      nodeTypes.forEach((type, idx, arr) => {\n        if (!clusters[type]) {\n          const radius = width > height ? height * clusterRadiusScale : width * clusterRadiusScale\n          clusters[type] = {\n            x: Math.cos((idx + 1) / arr.length * 2 * Math.PI) * radius + width / 2 + Math.random(),\n            y: Math.sin((idx + 1) / arr.length * 2 * Math.PI) * radius + height / 2 + Math.random(),\n            radius\n          }\n        }\n      })\n\n      simulation.force('cluster', alpha =>\n        applyClusterForce(alpha, this.nodes, clusters)\n      )\n    } else {\n      simulation.force('cluster', null)\n    }\n\n    simulation\n      .alpha(alphaStart)\n      .alphaTarget(0)\n      .velocityDecay(velocityDecay)\n      .restart()\n\n    if (!animation) {\n      while (simulation.alpha() >= 0.02) {\n        simulation.tick()\n      }\n    }\n  }\n\n  onTick (e) {\n    // limit rendering\n    const currentTime = Date.now()\n    if (currentTime - this.millis > this.interval) {\n      this.millis = currentTime\n      this.setState({\n        nodes: this.nodes,\n        links: this.links\n      })\n    }\n  }\n\n  mouseOutHandler () {\n    this.setState({\n      tooltip: {\n        style: {\n          opacity: 0\n        }\n      }\n    })\n  }\n\n  mouseOverHandler (payload) {\n    const { event, type, data } = payload;\n    let text = ''\n    if (type === 'NODE') {\n      text = `[${data.type}] ${data.text}`\n    } else if (type === 'LINK') {\n      text = `${data.type}`\n    }\n    this.setState({\n      tooltip: {\n        text,\n        style: {\n          opacity: 1,\n          top: event.clientY + 15,\n          left: event.clientX + 15\n        }\n      }\n    })\n  }\n\n  render () {\n    const { nodes, links, transform, tooltip } = this.state\n    return (\n      <div\n        className='networkGraph'\n        style={{\n          width: '100%',\n          height: '100%'\n        }}\n      >\n        <svg\n          className='svgGraph'\n          width='100%'\n          height='100%'\n          ref={this.svg}\n        >\n          <Universe\n            nodes={nodes}\n            links={links}\n            transform={\n              `translate(${transform.x},${transform.y}) scale(${transform.k})`\n            }\n            onClick={this.props.onClick}\n            onDoubleClick={this.props.onDoubleClick}\n            onMouseOver={this.mouseOverHandler}\n            onMouseOut={this.mouseOutHandler}\n          />\n        </svg>\n        {/* <span className='zoomIndicator'>{parseInt(transform.k * 100, 10)} %</span> */}\n        <span\n          className='networkGrapTooltip'\n          style={tooltip.style}\n        >\n          {tooltip.text}\n        </span>\n      </div>\n    )\n  }\n}\n\n// node cluster handler\nconst applyClusterForce = (alpha, nodes, clusters) => {\n  nodes.forEach(node => {\n    const cluster = clusters[node.type]\n    if (cluster.x !== node.x && cluster.y !== node.y) {\n      const k = alpha * 0.5\n      node.vx -= (node.x - cluster.x) * k\n      node.vy -= (node.y - cluster.y) * k\n    }\n  })\n}\n\nNetworkGraph.defaultProps = {\n  nodes: [],\n  links: [],\n  attraceForceStrength: 10,\n  chargeStrength: -10,\n  collisionRadiusOffset: 15,\n  collisionStrength: 0.5,\n  animation: true,\n  cluster: false,\n  fps: 60,\n  alphaStart: 1,\n  velocityDecay: 0.4,\n  clusterRadiusScale: 2\n}\n\nNetworkGraph.propTypes = {\n  nodes: PropTypes.array,\n  links: PropTypes.array,\n  attraceForceStrength: PropTypes.number,\n  chargeStrength: PropTypes.number,\n  collisionRadiusOffset: PropTypes.number,\n  collisionStrength: PropTypes.number,\n  animation: PropTypes.bool,\n  fps: PropTypes.number,\n  alphaStart: PropTypes.number,\n  velocityDecay: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  cluster: PropTypes.bool,\n  clusterRadiusScale: PropTypes.number\n}\n\nexport default NetworkGraph\n","import React from 'react'\nimport LazyLoad from 'react-lazyload'\n\nconst style = {\n  backgroundColor: '#eee',\n  cursor: 'pointer',\n  overflow: 'hidden',\n  position: 'relative'\n}\n\nconst imgStyle = {\n  transition: 'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s'\n}\n\nconst BookCover = ({\n  index,\n  onClick,\n  photo,\n  margin,\n  direction,\n  top,\n  left\n}) => {\n  if (direction === 'column') {\n    style.position = 'absolute'\n    style.left = left\n    style.top = top\n  }\n  return (\n    <div\n      style={{ margin, height: photo.height, width: photo.width, ...style }}\n      className='lazy-image'\n    >\n      <LazyLoad\n        overflow\n      >\n        <img\n          style={\n            { ...imgStyle }\n          }\n          {...photo}\n          onClick={e => onClick(e, { index, photo })}\n          alt={photo.alt}\n          title={photo.alt}\n        />\n      </LazyLoad>\n    </div>\n  )\n}\n\nexport default BookCover\n","import React from 'react'\nimport Gallery from 'react-photo-gallery'\nimport BookCover from '../BookCover'\n\nconst BookLibrary = (props) => (\n  <Gallery\n    photos={\n      props.books.map((book, idx) => ({\n        // ...book,\n        src: book.small_image_url.replace(/.(s\\/)/g, str => {\n          const tmp = str.split('s/')\n          if (tmp[0] < 58) {\n            return tmp[0].concat('l/')\n          }\n          return str\n        }),\n        width: 98,\n        height: 148,\n        alt: book.title,\n        key: book.title\n      }))\n    }\n    onClick={\n      (event, obj) => {\n        window.open(obj.photo.link, '_blank')\n      }\n    }\n    direction='column'\n    margin={props.margin}\n    columns={props.columns}\n    ImageComponent={BookCover}\n  />\n)\n\nexport default BookLibrary\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Checkbox, Slider, Button, Tooltip } from 'antd'\n\nimport './style.css'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst plainOptions = ['animation', 'cluster']\n\nclass Settings extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      ...props\n    }\n\n    this.defaultOptions = plainOptions.filter((option) => this.props.settings[option])\n\n    this.updateState = this.updateState.bind(this)\n\n    // settings handler\n    this.updateFps = this.updateFps.bind(this)\n    this.updateCluster = this.updateCluster.bind(this)\n    this.updateAnimation = this.updateAnimation.bind(this)\n    this.updateAlphaStart = this.updateAlphaStart.bind(this)\n    this.updateVelocityDecay = this.updateVelocityDecay.bind(this)\n    this.updateChargeStrength = this.updateChargeStrength.bind(this)\n    this.updateCollisionStrength = this.updateCollisionStrength.bind(this)\n    this.updateClusterRadiusScale = this.updateClusterRadiusScale.bind(this)\n    this.updateCollisionRadiusOffset = this.updateCollisionRadiusOffset.bind(this)\n    this.updateAttracForceStrength = this.updateAttracForceStrength.bind(this)\n  }\n\n  updateState (val) {\n    // update local state and trigger parent onChange function\n    this.setState({\n      settings: {\n        ...this.state.settings,\n        ...val\n      }\n    },\n    () => this.props.onChange(this.state.settings))\n  }\n\n  updateFps (val) {\n    this.updateState({\n      fps: val\n    })\n  }\n\n  updateCluster (val) {\n    this.updateState({\n      cluster: val\n    })\n  }\n\n  updateAnimation (val) {\n    this.updateState({\n      animation: val\n    })\n  }\n\n  updateAlphaStart (val) {\n    this.updateState({\n      alphaStart: val\n    })\n  }\n\n  updateVelocityDecay (val) {\n    this.updateState({\n      velocityDecay: val\n    })\n  }\n\n  updateChargeStrength (val) {\n    this.updateState({\n      chargeStrength: val\n    })\n  }\n\n  updateCollisionStrength (val) {\n    this.updateState({\n      collisionStrength: val\n    })\n  }\n\n  updateClusterRadiusScale (val) {\n    this.updateState({\n      clusterRadiusScale: val\n    })\n  }\n\n  updateCollisionRadiusOffset (val) {\n    this.updateState({\n      collisionRadiusOffset: val\n    })\n  }\n\n  updateAttracForceStrength (val) {\n    this.updateState({\n      attraceForceStrength: val\n    })\n  }\n\n  render () {\n    const {\n      fps,\n      alphaStart,\n      velocityDecay,\n      attraceForceStrength,\n      collisionStrength,\n      collisionRadiusOffset,\n      clusterRadiusScale,\n      chargeStrength\n    } = this.state.settings\n\n    // this.props.onChange(this.state)\n\n    return (\n      <div\n        className='settings'\n      >\n        <ul>\n          <li>\n            <div style={{ borderBottom: '1px solid #E9E9E9', padding: 5 }}>\n              <CheckboxGroup\n                options={plainOptions}\n                value={this.defaultOptions}\n                onChange={(checked) => {\n                  this.defaultOptions = checked\n                  this.updateState({\n                    animation: checked.indexOf('animation') > -1,\n                    cluster: checked.indexOf('cluster') > -1\n                  })\n                }}\n                className='settingsCheckbox'\n              />\n            </div>\n          </li>\n          <li>\n            <Tooltip title='How many times per second to render the graph.' placement='rightTop'>\n              FPS ({fps})\n            </Tooltip>\n            <Slider\n              defaultValue={fps}\n              max={120}\n              min={1}\n              step={1}\n              onAfterChange={this.updateFps}\n            />\n          </li>\n          <li>\n            <Tooltip title='Initial Alpha of simulation.' placement='rightTop'>\n              Alpha Start ({alphaStart})\n            </Tooltip>\n            <Slider\n              defaultValue={alphaStart}\n              max={1}\n              min={0}\n              step={0.01}\n              onAfterChange={this.updateAlphaStart}\n            />\n          </li>\n          <li>\n            <Tooltip\n              title='The decay factor is akin to atmospheric friction; after the application of any forces during a tick, each node’s velocity is multiplied by 1 - decay. As with lowering the alpha decay rate, less velocity decay may converge on a better solution, but risks numerical instabilities and oscillation.'\n              placement='rightTop'\n            >\n              velocity Decay ({velocityDecay})\n            </Tooltip>\n            <Slider\n              defaultValue={velocityDecay}\n              max={1}\n              min={0}\n              step={0.01}\n              onAfterChange={this.updateVelocityDecay}\n            />\n          </li>\n          <li>\n            <Tooltip title='It can be used to simulate gravity (attraction) if the strength is positive, or electrostatic charge (repulsion) if the strength is negative.' placement='rightTop'>\n              Charge Strength ({chargeStrength})\n            </Tooltip>\n            <Slider\n              defaultValue={chargeStrength}\n              max={500}\n              min={-500}\n              step={1}\n              onAfterChange={this.updateChargeStrength}\n            />\n          </li>\n          <li>\n            <Tooltip title='Sets the collision force strength to the specified number.' placement='rightTop'>\n              Collision Strength ({collisionStrength})\n            </Tooltip>\n            <Slider\n              defaultValue={collisionStrength}\n              max={1}\n              min={0}\n              step={0.01}\n              onAfterChange={this.updateCollisionStrength}\n            />\n          </li>\n          <li>\n            <Tooltip title='The collision force treats nodes as circles with a given radius, rather than points, and prevents nodes from overlapping.' placement='rightTop'>\n              Collision Radius Offset ({collisionRadiusOffset})\n            </Tooltip>\n            <Slider\n              defaultValue={collisionRadiusOffset}\n              max={50}\n              min={0}\n              step={1}\n              onAfterChange={this.updateCollisionRadiusOffset}\n            />\n          </li>\n          <li>\n            <Tooltip title='Sets attractive force strength between nodes' placement='rightTop'>\n              Attractive Force Strength ({attraceForceStrength})\n            </Tooltip>\n            <Slider\n              defaultValue={attraceForceStrength}\n              max={500}\n              min={-500}\n              step={1}\n              onAfterChange={this.updateAttracForceStrength}\n            />\n          </li>\n          <li>\n            <Tooltip title='Radius of the circle around which to cluster the nodes.' placement='rightTop'>\n              Cluster Radius Scale ({clusterRadiusScale})\n            </Tooltip>\n            <Slider\n              defaultValue={clusterRadiusScale}\n              max={10}\n              min={0.5}\n              step={0.5}\n              onAfterChange={this.updateClusterRadiusScale}\n            />\n          </li>\n          <div\n            style={{\n              padding: 10\n            }}\n          >\n            <Button\n              type='danger'\n              onClick={() => this.props.onReset()}\n              block\n            >\n              Reset\n            </Button>\n          </div>\n        </ul>\n      </div>\n    )\n  }\n}\n\nSettings.defaultProps = {\n  settings: {\n    fps: 60,\n    cluster: true,\n    alphaStart: 1,\n    animation: true,\n    velocityDecay: 0.1,\n    chargeStrength: -100,\n    clusterRadiusScale: 2,\n    collisionStrength: 0.5,\n    collisionRadiusOffset: 15,\n    attraceForceStrength: -100\n  }\n}\n\nSettings.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onReset: PropTypes.func.isRequired,\n  settings: PropTypes.shape({\n    fps: PropTypes.number,\n    cluster: PropTypes.bool,\n    alphaStart: PropTypes.number,\n    animation: PropTypes.bool,\n    velocityDecay: PropTypes.number,\n    chargeStrength: PropTypes.number,\n    clusterRadiusScale: PropTypes.number,\n    collisionStrength: PropTypes.number,\n    collisionRadiusOffset: PropTypes.number,\n    attraceForceStrength: PropTypes.number\n  })\n}\n\nexport default Settings\n","const minifyString = text => {\n  return text.split(' ').slice(0, 3).map(word => word.charAt(0).toUpperCase()).join('')\n}\n\nexport function getGraphData (userData, shelves) {\n  let books = []\n  let bookNodes = {}\n  let authorNodes = {}\n  let publisherNodes = {}\n  let nodes = []\n  let links = []\n\n  const bookShelves = userData.user_shelves\n\n  // nodes.push({\n  //   text: userData.name,\n  //   id: userData.id,\n  //   img: userData.image_url,\n  //   type: 'USER',\n  //   color: '#336B87',\n  //   radius: 55,\n  //   style: {\n  //     r: 55,\n  //     stroke: '#375E97',\n  //     strokeWidth: '3px'\n  //   }\n  // })\n\n  bookShelves.forEach(shelf => {\n    if (shelves.indexOf(shelf.name) > -1) {\n      if (shelf.books.book) {\n        const tmpList = shelf.books.book.length ? shelf.books.book : [ shelf.books.book ]\n        tmpList.forEach(book => {\n          books.push(\n            {\n              ...book,\n              property: {\n                shelf: shelf.name\n              }\n            }\n          )\n        })\n      }\n    }\n  })\n\n  books.forEach(book => {\n    const { author } = book.authors\n\n    if (!bookNodes[book.id.$t]) {\n      // Create Book Nodes\n      bookNodes[book.id.$t] = {\n        id: book.id.$t,\n        text: book.title,\n        type: 'BOOK',\n        img: book.image_url,\n        color: '#336B87',\n        radius: 35,\n        style: {\n          r: 35,\n          stroke: '#375E97',\n          strokeWidth: '3px'\n        }\n      }\n      // Create Author Nodes\n      if (!authorNodes[author.id]) {\n        authorNodes[author.id] = {\n          id: author.id,\n          text: author.name,\n          type: 'AUTHOR',\n          img: author.image_url.$t,\n          color: '#FB6542',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#FB6542',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Publisher Nodes\n      if (!publisherNodes[book.publisher]) {\n        publisherNodes[book.publisher] = {\n          id: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          text: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          type: 'PUBLISHER',\n          color: '#DDA487',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#7D4427',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Authoer --> Book relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.id.$t,\n        targetType: 'BOOK',\n        type: 'AUTHOR_OF',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n      // Create Book --> Publisher relationship\n      links.push({\n        source: book.id.$t,\n        sourceType: 'BOOK',\n        target: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n        targetType: 'PUBLISHER',\n        type: 'PUBLISHED_BY',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n\n      // Create Author --> Publisher relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.publisher,\n        targetType: 'PUBLISHER',\n        type: 'WORKS_WITH',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n    }\n  })\n\n  // Collect all nodes\n  nodes = Object.values(bookNodes)\n    .concat(Object.values(authorNodes))\n    .concat(Object.values(publisherNodes))\n    .map((node, idx) => ({\n      ...node,\n      shortText: minifyString(node.text),\n      textStyle: {\n        fontSize: 15,\n        fill: '#fff',\n        strokeWidth: '2px',\n        fontWeight: 'normal'\n      }\n    }))\n\n  return {\n    nodes,\n    links: links.map(link => ({\n      ...link,\n      strength: 0.5,\n      distance: 350,\n      id: `${link.source}-${link.type}-${link.target}`,\n      style: {\n        strokeWidth: 1.5,\n        fill: 'none',\n        stroke: 'rgba(50, 50, 50, 0.2)'\n      }\n    }))\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { getUserInfo, getUserData } from './action'\n\n// antd components\nimport { Layout, Menu, Breadcrumb, Icon, Tree } from 'antd'\n\nimport UserProfile from '../../components/UserProfile'\nimport NetworkGraph from '../../components/NetworkGraph'\nimport BookLibrary from '../../components/BookLibrary'\nimport Settings from '../../components/Settings'\n\nimport { getGraphData } from '../../utils/graphHelper'\n\nimport bgImage from '../../components/NetworkGraph/examples/basic/tiny_grid.png'\nimport goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\n\nimport './style.css'\n\nconst { SubMenu } = Menu\nconst { Content, Sider } = Layout\nconst { TreeNode } = Tree\n\nconst mapStorageToProps = state => ({\n  userInfo: state.dashboard.userInfo,\n  userData: state.dashboard.userData\n})\n\nconst mapDispatchToProps = {\n  getUserInfo,\n  getUserData\n}\n\nconst defaultGraphSettings = {\n  fps: 60,\n  cluster: true,\n  alphaStart: 1,\n  animation: true,\n  velocityDecay: 0.1,\n  chargeStrength: -100,\n  collisionStrength: 0.5,\n  collisionRadiusOffset: 15,\n  attraceForceStrength: -100,\n  clusterRadiusScale: 2\n}\n\nclass Dashboard extends Component {\n  constructor (props) {\n    super(props)\n\n    // get graph settings from localstorage\n    const settings = window.localStorage.getItem('graphSettings')\n\n    this.state = {\n      selectedShelf: null,\n      selectedShelves: [],\n      selectedMenu: 0,\n      graphSettings: settings ? JSON.parse(settings) : defaultGraphSettings\n    }\n    console.log('Init Settings', this.state.graphSettings)\n    this.onSelect = this.onSelect.bind(this)\n    this.onCheck = this.onCheck.bind(this)\n    this.onSettingsChange = this.onSettingsChange.bind(this)\n    this.onSettingsReset = this.onSettingsReset.bind(this)\n  }\n\n  componentDidMount () {\n    this.props.getUserData(this.props.match.params.userId)\n  }\n\n  onSelect (selectedKeys, info) {\n    console.log('selected', selectedKeys, info)\n  }\n\n  onCheck (checkedKeys, info) {\n    console.log('onCheck', checkedKeys, info)\n    this.setState({\n      selectedShelves: checkedKeys\n    })\n  }\n\n  onSettingsChange (settings) {\n    this.setState({\n      graphSettings: settings\n    })\n    // Store settings on local storage\n    window.localStorage.setItem('graphSettings', JSON.stringify(settings))\n  }\n\n  onSettingsReset () {\n    this.setState({\n      graphSettings: defaultGraphSettings\n    })\n\n    // clear settings on local storage\n    window.localStorage.removeItem('graphSettings')\n    window.location.reload()\n  }\n\n  render () {\n    const { userData } = this.props\n    // console.log(userData)\n    return (\n      <Layout\n        className='dashboard'\n      >\n        <Layout>\n          <Sider className='sider' width={270} >\n            <div className='logo' style={{\n              padding: '10px',\n              background: '#fff'\n            }}>\n              <Link to={'/'}>\n                <img\n                  src={goodReadsLogo}\n                  width='250px'\n                  alt='Goodreads'\n                />\n              </Link>\n            </div>\n            {\n              getUserComponent(userData)\n            }\n            {\n              getMenu(this)\n            }\n          </Sider>\n          <Layout style={{ padding: '0 24px 24px' }}>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>Home</Breadcrumb.Item>\n              <Breadcrumb.Item>User</Breadcrumb.Item>\n              <Breadcrumb.Item>Books</Breadcrumb.Item>\n            </Breadcrumb>\n            <Content\n              className='mainContent'\n              style={{\n                backgroundImage: { bgImage }, padding: 0, margin: 0, height: '100%'\n              }}\n            >\n              { getContent(this) }\n            </Content>\n          </Layout>\n        </Layout>\n      </Layout>\n    )\n  }\n}\n\nconst getContent = (context) => {\n  const { selectedMenu, selectedShelf, graphSettings } = context.state\n  const { userData } = context.props\n  if (context.props.userData) {\n    if (selectedMenu === 0) {\n      const { nodes, links } = getGraphData(context.props.userData, context.state.selectedShelves)\n      return (\n        <NetworkGraph\n          nodes={nodes}\n          links={links}\n          {...graphSettings}\n        />\n      )\n    } else if (selectedMenu === 1) {\n      return getBookLibrary(userData, selectedShelf)\n    }\n  }\n}\n\nconst getUserComponent = (userData) => {\n  if (userData) {\n    return (\n      <UserProfile\n        user={{\n          name: userData.name || '',\n          userName: userData.user_name || '',\n          image: userData.image_url || '',\n          link: userData.link,\n          description: typeof userData.about === 'string' ? userData.about : `Last active: ${userData.last_active}`\n        }}\n      />\n    )\n  }\n  return (\n    <UserProfile\n      user={{\n        name: '',\n        userName: '',\n        image: '',\n        description: ''\n      }}\n    />\n  )\n}\n\nconst getMenu = (context) => {\n  const { userData } = context.props\n  if (userData) {\n    console.log(userData)\n    return (\n      <Menu\n        mode='inline'\n        defaultOpenKeys={['shelves']}\n        style={{\n          // height: '100%',\n          borderRight: 0\n        }}\n        theme='light'\n        selectable\n      >\n        <SubMenu\n          key='shelves'\n          title={\n            <span><Icon type='book' />Shelves</span>\n          }\n        >\n          <Tree\n            checkable\n            onSelect={context.onSelect}\n            onCheck={context.onCheck}\n            className='shelves'\n          >\n            {\n              userData.user_shelves.map(shelf => {\n                if (shelf.books.book) {\n                  const books = shelf.books.book.length ? shelf.books.book : [shelf.books.book]\n                  return (\n                    <TreeNode\n                      title={`${shelf.name} (${books.length})`}\n                      key={shelf.name}\n                      className='booksList'\n                    >\n                      {\n                        books.map(book => {\n                          return (\n                            <TreeNode\n                              title={`${book.title} (${book.published})`}\n                              key={book.title}\n                              disableCheckbox\n                            />\n                          )\n                        })\n                      }\n                    </TreeNode>\n                  )\n                }\n                return (\n                  <TreeNode\n                    title={`${shelf.name} (0)`}\n                    key={shelf.name}\n                    disabled\n                  />\n                )\n              })\n            }\n          </Tree>\n        </SubMenu>\n        <SubMenu\n          key='settings'\n          title={<span><Icon type='setting' />Settings</span>}\n        >\n          <Settings\n            onChange={context.onSettingsChange}\n            onReset={context.onSettingsReset}\n            settings={context.state.graphSettings}\n          />\n          {/* {\n            userData.user_shelves.map((shelf, idx) => (\n              <Menu.Item key={idx}>\n                <Link to={`/user/${userData.id}/shelf/${shelf.name}`}>\n                  {`${shelf.name} (${shelf.books.book ? shelf.books.book.length || 1 : 0})`}\n                </Link>\n              </Menu.Item>\n            ))\n          } */}\n        </SubMenu>\n      </Menu>\n    )\n  }\n}\n\nconst getBookLibrary = (userData, shelf) => {\n  if (userData) {\n    let bookShelf = userData.user_shelves.find(sh => sh.name === shelf)\n    if (bookShelf) {\n      let { books } = bookShelf\n      if (!books.book) return <div />\n      books = books.book.length ? books.book : [ books.book ]\n      return (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            overflow: 'auto'\n          }}\n        >\n          <BookLibrary\n            books={books}\n            margin={0}\n            columns={7}\n          />\n        </div>\n      )\n    }\n    return (\n      <div\n        style={{\n          padding: 20\n        }}\n      >\n        <p>Bookshelf doesn't exist.</p>\n      </div>\n    )\n  }\n  return <div />\n}\n\nexport default connect(\n  mapStorageToProps,\n  mapDispatchToProps\n)(Dashboard)\n","import React, { Component } from 'react'\nimport {\n  withRouter,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport { connect } from 'react-redux'\n\n// antd components\nimport { Spin } from 'antd'\n\nimport 'antd/dist/antd.css'\n\n// containers\nimport Home from '../Home'\nimport Dashboard from '../Dashboard'\n\nimport './style.css'\n\nconst mapStateToProps = state => ({\n  isLoading: state.app.isLoading\n})\n\nconst mapDispatchToProps = {\n\n}\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    this.searchHandler = this.searchHandler.bind(this)\n  }\n\n  searchHandler (userId) {\n    this.props.history.push(`/user/${userId}`)\n  }\n\n  componentDidMount () {\n    // Maybe get top books from goodreads?\n  }\n\n  render () {\n    return (\n      <Spin\n        className='App'\n        spinning={this.props.isLoading > 0}\n        delay={500}\n      >\n        <Switch>\n          <Route\n            exact\n            path='/'\n            component={props => (\n              <Home\n                searchHandler={this.searchHandler}\n              />\n            )}\n          />\n          <Route\n            path='/user/:userId'\n            component={Dashboard}\n          />\n          <Redirect to='/' />\n        </Switch>\n      </Spin>\n    )\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(App)\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport configureStore from './configureStore'\nimport App from './containers/App'\nimport * as serviceWorker from './serviceWorker'\n\nimport './style.css'\n\nconst store = configureStore()\n\nReactDOM.render(<Provider store={store}><Router><App /></Router></Provider>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/goodreads-logo-transparent.63c17e20.png\";"],"sourceRoot":""}