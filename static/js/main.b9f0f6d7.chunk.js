(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII="},134:function(e,t,a){},143:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(14),o=a.n(i),c=a(69),s=a(297),l=a(51),u=a(129),p=a(18),d="FETCH_START",h="FETCH_END",m={isLoading:0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case d:return Object(p.a)({},e,{isLoading:e.isLoading+1});case h:return Object(p.a)({},e,{isLoading:e.isLoading-1});default:return e}},b={userId:null,userInfo:null,userData:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_USER_INFO":var a=t.userId;return Object(p.a)({},e,{userId:a});case"FETCH_USER_INFO_SUCCESS":var n=t.userInfo;return Object(p.a)({},e,{userInfo:n.user});case"FETCH_USER_DATA":var r=t.userId;return Object(p.a)({},e,{userId:r});case"FETCH_USER_DATA_SUCCESS":var i=t.userData;return Object(p.a)({},e,{userData:i.user});default:return e}},O=Object(l.c)({app:f,dashboard:g}),y=a(54),v=a.n(y),k=a(150),E=a(20),S=a(71),j=a.n(S),C=j.a.mark(x);function x(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)({type:"SUCCESS",message:"Hello World"});case 2:case"end":return e.stop()}},C,this)}var A=[Object(E.d)("HELLO_WORLD",x)],w=function(e){return{type:"ERROR_OCCURED",err:e}},R=function(e){return{type:"FETCH_USER_INFO_SUCCESS",userInfo:e}},H=function(e){return{type:"FETCH_USER_DATA_SUCCESS",userData:e}},T="https://uqh87q11i5.execute-api.us-east-1.amazonaws.com/prod",_=j.a.mark(N),D=function(){return{method:"GET",headers:{"Content-Type":"application/json"}}},F=function(e){if(200!==e.status){var t={error:{code:e.status,message:"Fetch error"},status:e.status,statusText:e.statusText};return Promise.reject(t)}return e.json().then(function(e){return e})},I=function(e,t){return fetch(e).then(F).catch(function(e){return e})};function N(e){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.c)({type:d});case 2:return t.next=4,e();case 4:return t.next=6,Object(E.c)({type:h});case 6:case"end":return t.stop()}},_,this)}function U(e){var t="".concat(T,"/user/show?id=").concat(e);return I(t,D())}function M(e,t){var a="".concat(T,"/review/list?id=").concat(e,"&shelf=").concat(t,"&per_page=200");return I(a,D())}var L=[Object(E.e)("FETCH_USER_INFO",function(e){return N(v.a.mark(function t(){var a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.b)(U,e.userId);case 3:if((a=t.sent).error){t.next=10;break}return n=a,t.next=8,Object(E.c)(R(n));case 8:t.next=12;break;case 10:return t.next=12,Object(E.c)(w(a));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),t.next=18,Object(E.c)(w(t.t0));case 18:case"end":return t.stop()}},t,this,[[0,14]])}))}),Object(E.e)("FETCH_USER_DATA",function(e){return N(v.a.mark(function t(){var a,n,r,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.b)(U,e.userId);case 3:if((a=t.sent).error){t.next=15;break}return r=(n=a).user.user_shelves.user_shelf.map(function(e){return e.name}),t.next=9,Object(E.a)(r.map(function(t){return Object(E.b)(M,e.userId,t)}));case 9:return i=t.sent,n.user.user_shelves=i.map(function(e,t){return{name:r[t],books:e.books?e.books:{book:[]}}}),t.next=13,Object(E.c)(H(n));case 13:t.next=17;break;case 15:return t.next=17,Object(E.c)(w(a));case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(0),t.next=23,Object(E.c)(w(t.t0));case 23:case"end":return t.stop()}},t,this,[[0,19]])}))})],P=v.a.mark(B);function B(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([].concat(Object(k.a)(A),Object(k.a)(L)));case 2:case"end":return e.stop()}},P,this)}var W=B,V=Object(u.a)();var K=a(32),G=a(33),z=a(35),X=a(34),Y=a(36),Z=a(10),q=a(300),$=a(289),J=a(296),Q=a(301),ee=a(288),te=(a(199),a(292)),ae=a(294),ne=a(151),re=a(152),ie=(a(201),a(87)),oe=a.n(ie),ce=te.a.Search,se=function(e){return r.a.createElement(ae.a,{className:"Home"},r.a.createElement(ne.a,{className:"center"},r.a.createElement(re.a,{span:6}),r.a.createElement(re.a,{span:12},r.a.createElement("img",{src:oe.a,width:"100%",alt:"Goodreads"})),r.a.createElement(re.a,{span:6})),r.a.createElement(ne.a,{className:"center"},r.a.createElement(re.a,{span:8}),r.a.createElement(re.a,{span:8},r.a.createElement(ce,{placeholder:"Enter user id",onSearch:e.searchHandler})),r.a.createElement(re.a,{span:8})))},le=a(287),ue=a(298),pe=a(295),de=a(299),he=a(15),me=a(290),fe=a(286),be=(a(249),me.a.Meta),ge=function(e){return r.a.createElement(me.a,{bordered:!1,className:"userCard"},r.a.createElement(be,{avatar:r.a.createElement(fe.a,{src:e.user.image,size:"large"}),title:r.a.createElement("a",{href:e.user.link,target:"_blank",rel:"noopener noreferrer"},e.user.name),description:e.user.description}))},Oe=a(6),ye=a(62),ve=a(128),ke=a(179),Ee=a(127),Se=function(e){function t(){var e;return Object(K.a)(this,t),(e=Object(z.a)(this,Object(X.a)(t).call(this))).clickHandler=e.clickHandler.bind(Object(Z.a)(Object(Z.a)(e))),e.doubleClickHandler=e.doubleClickHandler.bind(Object(Z.a)(Object(Z.a)(e))),e.mouseOverHandler=e.mouseOverHandler.bind(Object(Z.a)(Object(Z.a)(e))),e.mouseOutHandler=e.mouseOutHandler.bind(Object(Z.a)(Object(Z.a)(e))),e.clickTimeout=null,e}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"clickHandler",value:function(){var e=this;this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=null,this.doubleClickHandler()):this.clickTimeout=setTimeout(function(){e.props.onClick&&e.props.onClick({type:"NODE",data:e.props.id})},300)}},{key:"doubleClickHandler",value:function(){this.props.onDoubleClick&&this.props.onDoubleClick({type:"NODE",data:this.props.id})}},{key:"mouseOverHandler",value:function(e,t){this.props.onMouseOver&&this.props.onMouseOver({type:"NODE",data:{id:this.props.id,text:this.props.text,type:this.props.type},event:e})}},{key:"mouseOutHandler",value:function(e){this.props.onMouseOut&&this.props.onMouseOut({type:"NODE",data:{id:this.props.id,text:this.props.text,type:this.props.type},event:e})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.radius,n=e.color,i=e.x,o=e.y,c=e.style;return r.a.createElement("g",{className:t,transform:"translate(".concat(i,",").concat(o,")"),onClick:this.clickHandler,style:{cursor:"pointer"},onMouseOver:this.mouseOverHandler,onMouseOut:this.mouseOutHandler},r.a.createElement("circle",{r:a,fill:n,style:c}),je(this.props))}}]),t}(n.Component),je=function(e){var t=e.id,a=e.img,n=e.radius,i=e.shortText,o=e.textStyle;return a?r.a.createElement("g",null,r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip_".concat(t)},r.a.createElement("circle",{r:n-1}))),r.a.createElement("image",{xlinkHref:a,clipPath:"url(#clip_".concat(t,")"),x:-n,y:-n,width:2*n})):r.a.createElement("text",{dx:-n/2,dy:o.fontSize/2,style:o},i)};Se.defaultProps={className:"node",radius:35,color:"#FFFFFF",style:{r:35,stroke:"#375E97",strokeWidth:"3px"},textStyle:{fontSize:15,fill:"#fff",strokeWidth:"3px",fontWeight:"normal"}};var Ce=Se,xe=function(e){function t(){return Object(K.a)(this,t),Object(z.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.d,a=e.pointer,n=e.style,i=e.id;return r.a.createElement("g",null,Ae(this.props),r.a.createElement("path",{id:i,style:n,d:t,markerEnd:a?"url(#".concat(i,"_pointer)"):a}),we(this.props))}}]),t}(n.Component),Ae=function(e){if(e.pointer)return r.a.createElement("defs",null,r.a.createElement("marker",{id:"".concat(e.id,"_pointer"),viewBox:"0 -5 10 10",refX:e.arrowOffset,refY:"-2",markerWidth:"6",markerHeight:"6",orient:"auto"},r.a.createElement("path",{d:"M0,-5L10,0L0,5",fill:"#666",style:{opacity:1}})))},we=function(e){if(e.type)return r.a.createElement("text",null,r.a.createElement("textPath",{dx:0,dy:5,href:"#".concat(e.id),startOffset:"50%",style:e.textStyle},e.type))};xe.defaultProps={style:{strokeWidth:1.5,fill:"none",stroke:"gba(50, 50, 50, 0.2)"},textStyle:{pointerEvents:"none",textAnchor:"middle",fill:"#333"},pointer:!0};var Re=xe,He=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(z.a)(this,Object(X.a)(t).call(this,e))).state=Object(p.a)({},a.props),a.getArcPath=a.getArcPath.bind(Object(Z.a)(Object(Z.a)(a))),a.getLinks=a.getLinks.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},e))}},{key:"getLinks",value:function(e,t){return this.state.links.filter(function(a){return a.source.id===e.id&&a.target.id===t.id}).map(function(e){return e.type})}},{key:"getArcPath",value:function(e){var t,a,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n?e.source.x:e.target.x,i=n?e.source.y:e.target.y,o=n?e.target.x:e.source.x,c=n?e.target.y:e.source.y,s=o-r,l=c-i,u=this.getLinks(e.source,e.target),p=Object(Ee.a)().domain(u).range([1,2])(e.type);1===p?(a=1,t=1):p%2===0?(a=0,t=p/2):p%3===0&&(a=1,t=p/3+1);var d=Math.sqrt(s*s+l*l)/(1+.5*(t-1));return"M".concat(r,",").concat(i,"A").concat(1.7*d,",").concat(1.7*d," ").concat(0,", ").concat(0,", ").concat(a," ").concat(o,",").concat(c)}},{key:"render",value:function(){var e=this,t=this.state,a=t.nodes,n=t.links;return r.a.createElement("g",{className:this.props.className,transform:this.props.transform},r.a.createElement("g",{className:"links"},n.reduce(function(t,a,n){return"object"===typeof a.source&&"object"===typeof a.target?(t.push(r.a.createElement(Re,{key:n,data:a,d:e.getArcPath(a),style:a.style,id:a.id,type:a.type,arrowOffset:1.45*a.target.radius})),t):t},[])),r.a.createElement("g",{className:"nodes"},a.map(function(t,a){return r.a.createElement(Ce,Object.assign({key:a,onClick:e.props.onClick,onDoubleClick:e.props.onDoubleClick,onMouseOver:e.props.onMouseOver,onMouseOut:e.props.onMouseOut},t))})))}}]),t}(n.Component);He.defaultProps={className:"universe",nodes:[],links:[]};var Te=He,_e=(a(262),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(z.a)(this,Object(X.a)(t).call(this,e))).state={nodes:[],links:[],simulation:a.initSimulation(),width:100,height:100,transform:{x:0,y:0,k:1},tooltip:{text:"",style:{opacity:0,top:0,left:0}}},a.initSimulation=a.initSimulation.bind(Object(Z.a)(Object(Z.a)(a))),a.initZoomHandler=a.initZoomHandler.bind(Object(Z.a)(Object(Z.a)(a))),a.updateSimulation=a.updateSimulation.bind(Object(Z.a)(Object(Z.a)(a))),a.onTick=a.onTick.bind(Object(Z.a)(Object(Z.a)(a))),a.svg=r.a.createRef(),a.nodes=[],a.links=[],a.interval=1e3/a.props.fps,a.millis=Date.now(),a.mouseOverHandler=a.mouseOverHandler.bind(Object(Z.a)(Object(Z.a)(a))),a.mouseOutHandler=a.mouseOutHandler.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.initZoomHandler(),this.setState(Object(p.a)({},this.props,{width:this.svg.current.clientWidth,height:this.svg.current.clientHeight}),function(){e.updateSimulation()})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState(Object(p.a)({},e),function(){t.interval=1e3/t.state.fps,t.updateSimulation()})}},{key:"initSimulation",value:function(){var e=Object(ye.c)().id(function(e){return e.id}).strength(function(e){return e.strength}).distance(function(e){return e.distance});return Object(ye.e)().force("link",e)}},{key:"initZoomHandler",value:function(){var e=this,t=Object(Oe.f)(".svgGraph"),a=Object(ve.a)().on("zoom",function(){e.setState({transform:Oe.b.transform})});t.call(a).on("dblclick.zoom",null)}},{key:"updateSimulation",value:function(){var e=this,t=this.state,a=t.nodes,n=t.links,r=t.simulation,i=t.width,o=t.height,c=t.attraceForceStrength,s=t.chargeStrength,l=t.collisionRadiusOffset,u=t.collisionStrength,d=t.animation,h=t.velocityDecay,m=t.alphaStart,f=t.cluster,b=t.clusterRadiusScale;if(this.nodes=a,this.links=[],n.forEach(function(t){var a=e.nodes.filter(function(e){return e.id===t.source})[0],n=e.nodes.filter(function(e){return e.id===t.target})[0];a&&n&&e.links.push(Object(p.a)({},t,{source:a,target:n}))}),r.nodes(this.nodes).on("tick",this.onTick),r.force("link").links(this.links),r.force("center",Object(ye.a)(i/2,o/2)).force("attraceForce",Object(ye.d)().strength(c)).force("charge",Object(ye.d)().strength(s)).force("collision",Object(ye.b)().radius(function(e){return e.radius+l}).strength(u)),f){var g={};Object(ke.uniqBy)(this.nodes,"type").map(function(e){return e.type}).forEach(function(e,t,a){if(!g[e]){var n=i>o?o*b:i*b;g[e]={x:Math.cos((t+1)/a.length*2*Math.PI)*n+i/2+Math.random(),y:Math.sin((t+1)/a.length*2*Math.PI)*n+o/2+Math.random(),radius:n}}}),r.force("cluster",function(t){return De(t,e.nodes,g)})}else r.force("cluster",null);if(r.alpha(m).alphaTarget(0).velocityDecay(h).restart(),!d)for(;r.alpha()>=.02;)r.tick()}},{key:"onTick",value:function(e){var t=Date.now();t-this.millis>this.interval&&(this.millis=t,this.setState({nodes:this.nodes,links:this.links}))}},{key:"mouseOutHandler",value:function(){this.setState({tooltip:{style:{opacity:0}}})}},{key:"mouseOverHandler",value:function(e){var t=e.event,a=e.type,n=e.data,r="";"NODE"===a?r="[".concat(n.type,"] ").concat(n.text):"LINK"===a&&(r="".concat(n.type)),this.setState({tooltip:{text:r,style:{opacity:1,top:t.clientY+15,left:t.clientX+15}}})}},{key:"render",value:function(){var e=this.state,t=e.nodes,a=e.links,n=e.transform,i=e.tooltip;return r.a.createElement("div",{className:"networkGraph",style:{width:"100%",height:"100%"}},r.a.createElement("svg",{className:"svgGraph",width:"100%",height:"100%",ref:this.svg},r.a.createElement(Te,{nodes:t,links:a,transform:"translate(".concat(n.x,",").concat(n.y,") scale(").concat(n.k,")"),onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onMouseOver:this.mouseOverHandler,onMouseOut:this.mouseOutHandler})),r.a.createElement("span",{className:"networkGrapTooltip",style:i.style},i.text))}}]),t}(n.Component)),De=function(e,t,a){t.forEach(function(t){var n=a[t.type];if(n.x!==t.x&&n.y!==t.y){var r=.5*e;t.vx-=(t.x-n.x)*r,t.vy-=(t.y-n.y)*r}})};_e.defaultProps={nodes:[],links:[],attraceForceStrength:10,chargeStrength:-10,collisionRadiusOffset:15,collisionStrength:.5,animation:!0,cluster:!1,fps:60,alphaStart:1,velocityDecay:.4,clusterRadiusScale:2};var Fe=_e,Ie=a(180),Ne=a(113),Ue=a.n(Ne),Me={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"},Le={transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},Pe=function(e){var t=e.index,a=e.onClick,n=e.photo,i=e.margin,o=e.direction,c=e.top,s=e.left;return"column"===o&&(Me.position="absolute",Me.left=s,Me.top=c),r.a.createElement("div",{style:Object(p.a)({margin:i,height:n.height,width:n.width},Me),className:"lazy-image"},r.a.createElement(Ue.a,{overflow:!0},r.a.createElement("img",Object.assign({style:Object(p.a)({},Le)},n,{onClick:function(e){return a(e,{index:t,photo:n})},alt:n.alt,title:n.alt}))))},Be=function(e){return r.a.createElement(Ie.a,{photos:e.books.map(function(e,t){return{src:e.small_image_url.replace(/.(s\/)/g,function(e){var t=e.split("s/");return t[0]<58?t[0].concat("l/"):e}),width:98,height:148,alt:e.title,key:e.title}}),onClick:function(e,t){window.open(t.photo.link,"_blank")},direction:"column",margin:e.margin,columns:e.columns,ImageComponent:Pe})},We=a(293),Ve=a(122),Ke=a(291),Ge=a(149),ze=(a(269),We.a.Group),Xe=["animation","cluster"],Ye=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(z.a)(this,Object(X.a)(t).call(this,e))).state=Object(p.a)({},e),a.defaultOptions=Xe.filter(function(e){return a.props.settings[e]}),a.updateState=a.updateState.bind(Object(Z.a)(Object(Z.a)(a))),a.updateFps=a.updateFps.bind(Object(Z.a)(Object(Z.a)(a))),a.updateCluster=a.updateCluster.bind(Object(Z.a)(Object(Z.a)(a))),a.updateAnimation=a.updateAnimation.bind(Object(Z.a)(Object(Z.a)(a))),a.updateAlphaStart=a.updateAlphaStart.bind(Object(Z.a)(Object(Z.a)(a))),a.updateVelocityDecay=a.updateVelocityDecay.bind(Object(Z.a)(Object(Z.a)(a))),a.updateChargeStrength=a.updateChargeStrength.bind(Object(Z.a)(Object(Z.a)(a))),a.updateCollisionStrength=a.updateCollisionStrength.bind(Object(Z.a)(Object(Z.a)(a))),a.updateClusterRadiusScale=a.updateClusterRadiusScale.bind(Object(Z.a)(Object(Z.a)(a))),a.updateCollisionRadiusOffset=a.updateCollisionRadiusOffset.bind(Object(Z.a)(Object(Z.a)(a))),a.updateAttracForceStrength=a.updateAttracForceStrength.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"updateState",value:function(e){var t=this;this.setState({settings:Object(p.a)({},this.state.settings,e)},function(){return t.props.onChange(t.state.settings)})}},{key:"updateFps",value:function(e){this.updateState({fps:e})}},{key:"updateCluster",value:function(e){this.updateState({cluster:e})}},{key:"updateAnimation",value:function(e){this.updateState({animation:e})}},{key:"updateAlphaStart",value:function(e){this.updateState({alphaStart:e})}},{key:"updateVelocityDecay",value:function(e){this.updateState({velocityDecay:e})}},{key:"updateChargeStrength",value:function(e){this.updateState({chargeStrength:e})}},{key:"updateCollisionStrength",value:function(e){this.updateState({collisionStrength:e})}},{key:"updateClusterRadiusScale",value:function(e){this.updateState({clusterRadiusScale:e})}},{key:"updateCollisionRadiusOffset",value:function(e){this.updateState({collisionRadiusOffset:e})}},{key:"updateAttracForceStrength",value:function(e){this.updateState({attraceForceStrength:e})}},{key:"render",value:function(){var e=this,t=this.state.settings,a=t.fps,n=t.alphaStart,i=t.velocityDecay,o=t.attraceForceStrength,c=t.collisionStrength,s=t.collisionRadiusOffset,l=t.clusterRadiusScale,u=t.chargeStrength;return r.a.createElement("div",{className:"settings"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{style:{borderBottom:"1px solid #E9E9E9",padding:5}},r.a.createElement(ze,{options:Xe,value:this.defaultOptions,onChange:function(t){e.defaultOptions=t,e.updateState({animation:t.indexOf("animation")>-1,cluster:t.indexOf("cluster")>-1})},className:"settingsCheckbox"}))),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"How many times per second to render the graph.",placement:"rightTop"},"FPS (",a,")"),r.a.createElement(Ke.a,{defaultValue:a,max:120,min:1,step:1,onAfterChange:this.updateFps})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"Initial Alpha of simulation.",placement:"rightTop"},"Alpha Start (",n,")"),r.a.createElement(Ke.a,{defaultValue:n,max:1,min:0,step:.01,onAfterChange:this.updateAlphaStart})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"The decay factor is akin to atmospheric friction; after the application of any forces during a tick, each node\u2019s velocity is multiplied by 1 - decay. As with lowering the alpha decay rate, less velocity decay may converge on a better solution, but risks numerical instabilities and oscillation.",placement:"rightTop"},"velocity Decay (",i,")"),r.a.createElement(Ke.a,{defaultValue:i,max:1,min:0,step:.01,onAfterChange:this.updateVelocityDecay})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"It can be used to simulate gravity (attraction) if the strength is positive, or electrostatic charge (repulsion) if the strength is negative.",placement:"rightTop"},"Charge Strength (",u,")"),r.a.createElement(Ke.a,{defaultValue:u,max:500,min:-500,step:1,onAfterChange:this.updateChargeStrength})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"Sets the collision force strength to the specified number.",placement:"rightTop"},"Collision Strength (",c,")"),r.a.createElement(Ke.a,{defaultValue:c,max:1,min:0,step:.01,onAfterChange:this.updateCollisionStrength})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"The collision force treats nodes as circles with a given radius, rather than points, and prevents nodes from overlapping.",placement:"rightTop"},"Collision Radius Offset (",s,")"),r.a.createElement(Ke.a,{defaultValue:s,max:50,min:0,step:1,onAfterChange:this.updateCollisionRadiusOffset})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"Sets attractive force strength between nodes",placement:"rightTop"},"Attractive Force Strength (",o,")"),r.a.createElement(Ke.a,{defaultValue:o,max:500,min:-500,step:1,onAfterChange:this.updateAttracForceStrength})),r.a.createElement("li",null,r.a.createElement(Ve.a,{title:"Radius of the circle around which to cluster the nodes.",placement:"rightTop"},"Cluster Radius Scale (",l,")"),r.a.createElement(Ke.a,{defaultValue:l,max:10,min:.5,step:.5,onAfterChange:this.updateClusterRadiusScale})),r.a.createElement("div",{style:{padding:10}},r.a.createElement(Ge.a,{type:"danger",onClick:function(){return e.props.onReset()},block:!0},"Reset"))))}}]),t}(n.Component);Ye.defaultProps={settings:{fps:60,cluster:!0,alphaStart:1,animation:!0,velocityDecay:.1,chargeStrength:-100,clusterRadiusScale:2,collisionStrength:.5,collisionRadiusOffset:15,attraceForceStrength:-100}};var Ze=Ye,qe=function(e){return e.split(" ").slice(0,3).map(function(e){return e.charAt(0).toUpperCase()}).join("")};var $e=a(123),Je=a.n($e),Qe=(a(134),ue.a.SubMenu),et=ae.a.Content,tt=ae.a.Sider,at=pe.a.TreeNode,nt={getUserInfo:function(e){return{type:"FETCH_USER_INFO",userId:e}},getUserData:function(e){return{type:"FETCH_USER_DATA",userId:e}}},rt={fps:60,cluster:!0,alphaStart:1,animation:!0,velocityDecay:.1,chargeStrength:-100,collisionStrength:.5,collisionRadiusOffset:15,attraceForceStrength:-100,clusterRadiusScale:2},it=function(e){function t(e){var a;Object(K.a)(this,t),a=Object(z.a)(this,Object(X.a)(t).call(this,e));var n=window.localStorage.getItem("graphSettings");return a.state={selectedShelf:null,selectedShelves:[],selectedMenu:0,graphSettings:n?JSON.parse(n):rt},console.log("Init Settings",a.state.graphSettings),a.onSelect=a.onSelect.bind(Object(Z.a)(Object(Z.a)(a))),a.onCheck=a.onCheck.bind(Object(Z.a)(Object(Z.a)(a))),a.onSettingsChange=a.onSettingsChange.bind(Object(Z.a)(Object(Z.a)(a))),a.onSettingsReset=a.onSettingsReset.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserData(this.props.match.params.userId)}},{key:"onSelect",value:function(e,t){console.log("selected",e,t)}},{key:"onCheck",value:function(e,t){console.log("onCheck",e,t),this.setState({selectedShelves:e})}},{key:"onSettingsChange",value:function(e){this.setState({graphSettings:e}),window.localStorage.setItem("graphSettings",JSON.stringify(e))}},{key:"onSettingsReset",value:function(){this.setState({graphSettings:rt}),window.localStorage.removeItem("graphSettings"),window.location.reload()}},{key:"render",value:function(){var e=this.props.userData;return r.a.createElement(ae.a,{className:"dashboard"},r.a.createElement(ae.a,null,r.a.createElement(tt,{className:"sider",width:270},r.a.createElement("div",{className:"logo",style:{padding:"10px",background:"#fff"}},r.a.createElement(le.a,{to:"/"},r.a.createElement("img",{src:oe.a,width:"250px",alt:"Goodreads"}))),ct(e),st(this)),r.a.createElement(ae.a,{style:{padding:"0 24px 24px"}},r.a.createElement(de.a,{style:{margin:"16px 0"}},r.a.createElement(de.a.Item,null,"Home"),r.a.createElement(de.a.Item,null,"User"),r.a.createElement(de.a.Item,null,"Books")),r.a.createElement(et,{className:"mainContent",style:{backgroundImage:{bgImage:Je.a},padding:0,margin:0,height:"100%"}},ot(this)))))}}]),t}(n.Component),ot=function(e){var t=e.state,a=t.selectedMenu,n=t.selectedShelf,i=t.graphSettings,o=e.props.userData;if(e.props.userData){if(0===a){var c=function(e,t){var a=[],n={},r={},i={},o=[];return e.user_shelves.forEach(function(e){t.indexOf(e.name)>-1&&e.books.book&&(e.books.book.length?e.books.book:[e.books.book]).forEach(function(t){a.push(Object(p.a)({},t,{property:{shelf:e.name}}))})}),a.forEach(function(e){var t=e.authors.author;n[e.id.$t]||(n[e.id.$t]={id:e.id.$t,text:e.title,type:"BOOK",img:e.image_url,color:"#336B87",radius:35,style:{r:35,stroke:"#375E97",strokeWidth:"3px"}},r[t.id]||(r[t.id]={id:t.id,text:t.name,type:"AUTHOR",img:t.image_url.$t,color:"#FB6542",radius:35,style:{r:35,stroke:"#FB6542",strokeWidth:"3px"}}),i[e.publisher]||(i[e.publisher]={id:"string"===typeof e.publisher?e.publisher:"Self Published",text:"string"===typeof e.publisher?e.publisher:"Self Published",type:"PUBLISHER",color:"#DDA487",radius:35,style:{r:35,stroke:"#7D4427",strokeWidth:"3px"}}),o.push({source:t.id,sourceType:"AUTHOR",target:e.id.$t,targetType:"BOOK",type:"AUTHOR_OF",property:{publicationYear:e.publication_year,publicationMonth:e.publication_month,publicationDay:e.publication_day}}),o.push({source:e.id.$t,sourceType:"BOOK",target:"string"===typeof e.publisher?e.publisher:"Self Published",targetType:"PUBLISHER",type:"PUBLISHED_BY",property:{publicationYear:e.publication_year,publicationMonth:e.publication_month,publicationDay:e.publication_day}}),o.push({source:t.id,sourceType:"AUTHOR",target:e.publisher,targetType:"PUBLISHER",type:"WORKS_WITH",property:{publicationYear:e.publication_year,publicationMonth:e.publication_month,publicationDay:e.publication_day}}))}),{nodes:Object.values(n).concat(Object.values(r)).concat(Object.values(i)).map(function(e,t){return Object(p.a)({},e,{shortText:qe(e.text),textStyle:{fontSize:15,fill:"#fff",strokeWidth:"2px",fontWeight:"normal"}})}),links:o.map(function(e){return Object(p.a)({},e,{strength:.5,distance:350,id:"".concat(e.source,"-").concat(e.type,"-").concat(e.target),style:{strokeWidth:1.5,fill:"none",stroke:"rgba(50, 50, 50, 0.2)"}})})}}(e.props.userData,e.state.selectedShelves),s=c.nodes,l=c.links;return r.a.createElement(Fe,Object.assign({nodes:s,links:l},i))}if(1===a)return lt(o,n)}},ct=function(e){return e?r.a.createElement(ge,{user:{name:e.name||"",userName:e.user_name||"",image:e.image_url||"",link:e.link,description:"string"===typeof e.about?e.about:"Last active: ".concat(e.last_active)}}):r.a.createElement(ge,{user:{name:"",userName:"",image:"",description:""}})},st=function(e){var t=e.props.userData;if(t)return console.log(t),r.a.createElement(ue.a,{mode:"inline",defaultOpenKeys:["shelves"],style:{borderRight:0},theme:"light",selectable:!0},r.a.createElement(Qe,{key:"shelves",title:r.a.createElement("span",null,r.a.createElement(he.a,{type:"book"}),"Shelves")},r.a.createElement(pe.a,{checkable:!0,onSelect:e.onSelect,onCheck:e.onCheck,className:"shelves"},t.user_shelves.map(function(e){if(e.books.book){var t=e.books.book.length?e.books.book:[e.books.book];return r.a.createElement(at,{title:"".concat(e.name," (").concat(t.length,")"),key:e.name,className:"booksList"},t.map(function(e){return r.a.createElement(at,{title:"".concat(e.title," (").concat(e.published,")"),key:e.title,disableCheckbox:!0})}))}return r.a.createElement(at,{title:"".concat(e.name," (0)"),key:e.name,disabled:!0})}))),r.a.createElement(Qe,{key:"settings",title:r.a.createElement("span",null,r.a.createElement(he.a,{type:"setting"}),"Settings")},r.a.createElement(Ze,{onChange:e.onSettingsChange,onReset:e.onSettingsReset,settings:e.state.graphSettings})))},lt=function(e,t){if(e){var a=e.user_shelves.find(function(e){return e.name===t});if(a){var n=a.books;return n.book?(n=n.book.length?n.book:[n.book],r.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"}},r.a.createElement(Be,{books:n,margin:0,columns:7}))):r.a.createElement("div",null)}return r.a.createElement("div",{style:{padding:20}},r.a.createElement("p",null,"Bookshelf doesn't exist."))}return r.a.createElement("div",null)},ut=Object(c.b)(function(e){return{userInfo:e.dashboard.userInfo,userData:e.dashboard.userData}},nt)(it),pt=(a(143),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(z.a)(this,Object(X.a)(t).call(this,e))).searchHandler=a.searchHandler.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(Y.a)(t,e),Object(G.a)(t,[{key:"searchHandler",value:function(e){this.props.history.push("/user/".concat(e))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(ee.a,{className:"App",spinning:this.props.isLoading>0,delay:500},r.a.createElement(q.a,null,r.a.createElement($.a,{exact:!0,path:"/",component:function(t){return r.a.createElement(se,{searchHandler:e.searchHandler})}}),r.a.createElement($.a,{path:"/user/:userId",component:ut}),r.a.createElement(J.a,{to:"/"})))}}]),t}(n.Component)),dt=Object(Q.a)(Object(c.b)(function(e){return{isLoading:e.app.isLoading}},{})(pt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(146);var ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[V],a=[l.a.apply(void 0,t)],n=l.d,r=Object(l.e)(O,e,n.apply(void 0,a));return r.runSaga=V.run(W),r.injectedReducers={},r.injectedSagas={},r}();o.a.render(r.a.createElement(c.a,{store:ht},r.a.createElement(s.a,null,r.a.createElement(dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},186:function(e,t,a){e.exports=a(148)},201:function(e,t,a){},249:function(e,t,a){},262:function(e,t,a){},269:function(e,t,a){},87:function(e,t,a){e.exports=a.p+"static/media/goodreads-logo-transparent.63c17e20.png"}},[[186,2,1]]]);
//# sourceMappingURL=main.b9f0f6d7.chunk.js.map