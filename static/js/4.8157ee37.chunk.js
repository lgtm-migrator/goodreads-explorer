(window.webpackJsonp=window.webpackJsonp||[]).push([[4,6],{148:function(e,t,n){e.exports=n.p+"static/media/good_reads_explorer.eff85db6.png"},165:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(49),o=n(17),l=n(50),s=n(18),i=n(1),c=n.n(i),u=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={hasError:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("Error",e,t)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.Component);t.default=u},177:function(e,t,n){},237:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII="},238:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(49),o=n(17),l=n(50),s=n(18),i=n(27),c=n(1),u=n.n(c),h=n(28),m=n(298),d=n(12),p=n(309),f=n(310),g=n(4),b=n(29),k=n(302),E=n(297),v=(n(177),k.a.Meta),y=function(e){return u.a.createElement(k.a,{bordered:!1,className:"userCard"},u.a.createElement(v,{avatar:u.a.createElement(E.a,{src:e.user.image,size:"large"}),title:u.a.createElement("a",{href:e.user.link,target:"_blank",rel:"noopener noreferrer"},e.user.name),description:e.user.description.length>160?"".concat(e.user.description.slice(0,160),"..."):e.user.description,className:"userCardMeta"}))},S=n(231),O=n(11),A=n(164),C=n.n(A),j={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"},w={transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},K=function(e){var t=e.index,n=e.onClick,a=e.photo,r=e.margin,o=e.direction,l=e.top,s=e.left;return"column"===o&&(j.position="absolute",j.left=s,j.top=l),u.a.createElement("div",{style:Object(O.a)({margin:r,height:a.height,width:a.width},j),className:"lazy-image"},u.a.createElement(C.a,{overflow:!0},u.a.createElement("img",Object.assign({style:Object(O.a)({},w)},a,{onClick:function(e){return n(e,{index:t,photo:a})},alt:a.alt,title:a.alt}))))},M=function(e){return u.a.createElement(S.a,{photos:e.books.map(function(e,t){return{src:e.small_image_url.replace(/.(s\/)/g,function(e){var t=e.split("s/");return t[0]<58?t[0].concat("l/"):e}),width:98,height:148,alt:e.title,key:e.title}}),onClick:function(e,t){window.open(t.photo.link,"_blank")},direction:"column",margin:e.margin,columns:e.columns,ImageComponent:K})},D=n(165),x=n(237),I=n.n(x),B=n(148),G=n.n(B),N=(n(238),Object(c.lazy)(function(){return Promise.all([n.e(10),n.e(8)]).then(n.bind(null,305))})),U=p.a.SubMenu,R=f.a.Content,_=f.a.Sider,X={getUserInfo:d.d,getUserData:d.b},F=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={selectedShelf:null,selectedShelves:[],openMenuKeys:["relGraph"]},console.log("Init Settings",n.state.graphSettings),n.onSelect=n.onSelect.bind(Object(i.a)(Object(i.a)(n))),n.onCheck=n.onCheck.bind(Object(i.a)(Object(i.a)(n))),n.handleMenuOpenChange=n.handleMenuOpenChange.bind(Object(i.a)(Object(i.a)(n))),n.handleBookShelfSelect=n.handleBookShelfSelect.bind(Object(i.a)(Object(i.a)(n))),n.rootSubmenuKeys=["relGraph","shelves"],n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserData(this.props.match.params.userId)}},{key:"onSelect",value:function(e,t){console.log("selected",e,t)}},{key:"onCheck",value:function(e,t){console.log("onCheck",e,t),this.setState({selectedShelves:e})}},{key:"handleMenuOpenChange",value:function(e){var t=this,n=e.find(function(e){return-1===t.state.openMenuKeys.indexOf(e)});-1===this.rootSubmenuKeys.indexOf(n)?this.setState({openMenuKeys:e}):this.setState({openMenuKeys:n?[n]:[]})}},{key:"handleBookShelfSelect",value:function(e){console.log("Bookshelfselect",e)}},{key:"render",value:function(){var e=this.props.userData;return u.a.createElement(D.default,null,u.a.createElement(f.a,{className:"dashboard"},u.a.createElement(f.a,null,u.a.createElement(_,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},className:"sider",width:270},u.a.createElement("div",{className:"logo",style:{padding:"10px",background:"#fff"}},u.a.createElement(m.a,{to:"/"},u.a.createElement("img",{src:G.a,width:"250px",alt:"Goodreads"}))),z(e),Z(this)),u.a.createElement(f.a,{style:{padding:"24px 24px"}},u.a.createElement(R,{className:"mainContent",style:{backgroundImage:{bgImage:I.a},padding:0,margin:0,height:"100%"}},V(this))))))}}]),t}(c.Component),V=function(e){var t=e.state,n=t.selectedShelf,a=t.openMenuKeys,r=e.props.userData,o=e.rootSubmenuKeys.indexOf(a[0]);if(e.props.userData){if(0===o)return u.a.createElement(c.Suspense,{fallback:u.a.createElement(b.a,null)},u.a.createElement(N,{userData:e.props.userData}));if(1===o)return J(r,n)}},z=function(e){return e?u.a.createElement(y,{user:{name:e.name||"",userName:e.user_name||"",image:e.image_url||"",link:e.link,description:"string"===typeof e.about?e.about:"Last active: ".concat(e.last_active)}}):u.a.createElement(y,{user:{name:"",userName:"",image:"",description:""}})},Z=function(e){var t=e.props.userData;if(t)return console.log(t),u.a.createElement(p.a,{mode:"inline",openKeys:e.state.openMenuKeys,defaultSelectedKeys:["relationshipGraph"],style:{borderRight:0},theme:"light",onOpenChange:e.handleMenuOpenChange,onSelect:function(e){return console.log("select",e)}},u.a.createElement(U,{key:"relGraph",title:u.a.createElement("span",null,u.a.createElement(g.a,{type:"global"}),"Graphs")},u.a.createElement(p.a.Item,{key:"relationshipGraph"},"Relationship Graph")),u.a.createElement(U,{key:"shelves",title:u.a.createElement("span",null,u.a.createElement(g.a,{type:"book"}),"Shelves")},t.user_shelves.map(function(t,n){return u.a.createElement(p.a.Item,{key:n},u.a.createElement("a",{onClick:function(n){return n.preventDefault(),e.setState({selectedShelf:t.name})},href:"/#"},"".concat(t.name," (").concat(t.books.book?t.books.book.length||1:0,")")))})))},J=function(e,t){if(e){var n=e.user_shelves.find(function(e){return e.name===t});if(n){var a=n.books;return a.book?(a=a.book.length?a.book:[a.book],u.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"auto"}},u.a.createElement(M,{books:a,margin:0,columns:7}))):u.a.createElement("div",null)}return u.a.createElement("div",{style:{padding:20}},u.a.createElement("p",null,"Bookshelf doesn't exist."))}return u.a.createElement("div",null)};t.default=Object(h.b)(function(e){return{userInfo:e.dashboard.userInfo,userData:e.dashboard.userData}},X)(F)}}]);
//# sourceMappingURL=4.8157ee37.chunk.js.map