{"version":3,"sources":["assets/images/good_reads_explorer.png","components/ErrorBoundary/index.jsx","components/NetworkGraph/examples/basic/tiny_grid.png","components/UserProfile/index.jsx","components/BookCover/index.jsx","components/BookShelf/index.jsx","containers/Dashboard/index.jsx"],"names":["module","exports","__webpack_require__","p","ErrorBoundary","props","_this","Object","_home_travis_build_rpidanny_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_travis_build_rpidanny_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_rpidanny_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","hasError","error","info","console","log","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","children","Component","Meta","Card","UserProfile","react_default","card","bordered","className","avatar","src","user","image","size","title","href","link","target","rel","name","description","length","concat","slice","style","backgroundColor","cursor","overflow","position","imgStyle","transition","BookCover","_ref","index","onClick","photo","margin","direction","top","left","objectSpread","height","width","lib_default","assign","e","alt","BookShelf","react_photo_gallery_esm","photos","books","map","book","idx","small_image_url","replace","str","tmp","split","key","event","obj","window","open","columns","ImageComponent","RelationshipGraph","lazy","Promise","all","then","bind","SubMenu","Menu","Content","Layout","Sider","mapDispatchToProps","getUserInfo","getUserData","Dashboard","classCallCheck","possibleConstructorReturn","getPrototypeOf","selectedShelf","selectedShelves","openMenuKeys","graphSettings","onSelect","assertThisInitialized","onCheck","handleMenuOpenChange","handleBookShelfSelect","rootSubmenuKeys","match","params","userId","selectedKeys","checkedKeys","setState","openKeys","_this2","latestOpenKey","find","indexOf","userData","layout","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","padding","background","Link","to","goodReadsLogo","getUserComponent","getMenu","backgroundImage","bgImage","getContent","context","_context$state","selectedMenu","react","fallback","Fallback","getBookLibrary","components_UserProfile","userName","user_name","image_url","about","last_active","menu","mode","defaultSelectedKeys","borderRight","theme","onOpenChange","sel","icon","Item","user_shelves","shelf","preventDefault","bookShelf","sh","components_BookShelf","connect","userInfo","dashboard"],"mappings":"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","file":"static/js/4.8157ee37.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/good_reads_explorer.eff85db6.png\";","import React, { Component } from 'react'\n\nclass ErrorBoundary extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError (error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch (error, info) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, info)\n    console.log('Error', error, info)\n  }\n\n  render () {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII=\"","import React from 'react'\n\n// antd components\nimport { Avatar, Card } from 'antd'\n\nimport './style.css'\n\nconst { Meta } = Card\n\nconst UserProfile = props => (\n  <Card\n    bordered={false}\n    className='userCard'\n  >\n    <Meta\n      avatar={\n        <Avatar src={props.user.image} size='large' />\n      }\n      title={\n        <a\n          href={props.user.link}\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          {props.user.name}\n        </a>\n      }\n      description={\n        props.user.description.length > 160\n          ? `${props.user.description.slice(0, 160)}...`\n          : props.user.description}\n      className='userCardMeta'\n    />\n  </Card>\n)\n\nexport default UserProfile\n","import React from 'react'\nimport LazyLoad from 'react-lazyload'\n\nconst style = {\n  backgroundColor: '#eee',\n  cursor: 'pointer',\n  overflow: 'hidden',\n  position: 'relative'\n}\n\nconst imgStyle = {\n  transition: 'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s'\n}\n\nconst BookCover = ({\n  index,\n  onClick,\n  photo,\n  margin,\n  direction,\n  top,\n  left\n}) => {\n  if (direction === 'column') {\n    style.position = 'absolute'\n    style.left = left\n    style.top = top\n  }\n  return (\n    <div\n      style={{ margin, height: photo.height, width: photo.width, ...style }}\n      className='lazy-image'\n    >\n      <LazyLoad\n        overflow\n      >\n        <img\n          style={\n            { ...imgStyle }\n          }\n          {...photo}\n          onClick={e => onClick(e, { index, photo })}\n          alt={photo.alt}\n          title={photo.alt}\n        />\n      </LazyLoad>\n    </div>\n  )\n}\n\nexport default BookCover\n","import React from 'react'\nimport Gallery from 'react-photo-gallery'\nimport BookCover from '../BookCover'\n\nconst BookShelf = (props) => (\n  <Gallery\n    photos={\n      props.books.map((book, idx) => ({\n        // ...book,\n        src: book.small_image_url.replace(/.(s\\/)/g, str => {\n          const tmp = str.split('s/')\n          if (tmp[0] < 58) {\n            return tmp[0].concat('l/')\n          }\n          return str\n        }),\n        width: 98,\n        height: 148,\n        alt: book.title,\n        key: book.title\n      }))\n    }\n    onClick={\n      (event, obj) => {\n        window.open(obj.photo.link, '_blank')\n      }\n    }\n    direction='column'\n    margin={props.margin}\n    columns={props.columns}\n    ImageComponent={BookCover}\n  />\n)\n\nexport default BookShelf\n","import React, { Component, lazy, Suspense } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { getUserInfo, getUserData } from './action'\n\n// antd components\nimport { Layout, Menu, Icon } from 'antd'\n\nimport Fallback from '../../components/Fallback'\nimport UserProfile from '../../components/UserProfile'\nimport BookShelf from '../../components/BookShelf'\nimport ErrorBoundary from '../../components/ErrorBoundary'\n\nimport bgImage from '../../components/NetworkGraph/examples/basic/tiny_grid.png'\n// import goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\nimport goodReadsLogo from '../../assets/images/good_reads_explorer.png'\n\nimport './style.css'\n\nconst RelationshipGraph = lazy(() => import('../RelationshipGraph'))\n\nconst { SubMenu } = Menu\nconst { Content, Sider } = Layout\n\nconst mapStorageToProps = state => ({\n  userInfo: state.dashboard.userInfo,\n  userData: state.dashboard.userData\n})\n\nconst mapDispatchToProps = {\n  getUserInfo,\n  getUserData\n}\n\nclass Dashboard extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      selectedShelf: null,\n      selectedShelves: [],\n      openMenuKeys: [ 'relGraph' ]\n    }\n    console.log('Init Settings', this.state.graphSettings)\n\n    this.onSelect = this.onSelect.bind(this)\n    this.onCheck = this.onCheck.bind(this)\n    this.handleMenuOpenChange = this.handleMenuOpenChange.bind(this)\n    this.handleBookShelfSelect = this.handleBookShelfSelect.bind(this)\n\n    this.rootSubmenuKeys = ['relGraph', 'shelves']\n  }\n\n  componentDidMount () {\n    this.props.getUserData(this.props.match.params.userId)\n  }\n\n  onSelect (selectedKeys, info) {\n    console.log('selected', selectedKeys, info)\n  }\n\n  onCheck (checkedKeys, info) {\n    console.log('onCheck', checkedKeys, info)\n    this.setState({\n      selectedShelves: checkedKeys\n    })\n  }\n\n  handleMenuOpenChange (openKeys) {\n    const latestOpenKey = openKeys.find(key => this.state.openMenuKeys.indexOf(key) === -1)\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      this.setState({ openMenuKeys: openKeys })\n    } else {\n      this.setState({\n        openMenuKeys: latestOpenKey ? [latestOpenKey] : []\n      })\n    }\n  }\n\n  handleBookShelfSelect (event) {\n    console.log('Bookshelfselect', event)\n  }\n\n  render () {\n    const { userData } = this.props\n    // console.log(userData)\n    return (\n      <ErrorBoundary>\n        <Layout\n          className='dashboard'\n        >\n          <Layout>\n            <Sider\n              breakpoint='lg'\n              collapsedWidth='0'\n              onBreakpoint={(broken) => { console.log(broken) }}\n              onCollapse={(collapsed, type) => { console.log(collapsed, type) }}\n              className='sider'\n              width={270}\n            >\n              <div className='logo' style={{\n                padding: '10px',\n                background: '#fff'\n              }}>\n                <Link to={'/'}>\n                  <img\n                    src={goodReadsLogo}\n                    width='250px'\n                    alt='Goodreads'\n                  />\n                </Link>\n              </div>\n              {\n                getUserComponent(userData)\n              }\n              {\n                getMenu(this)\n              }\n            </Sider>\n            <Layout\n              style={{ padding: '24px 24px' }}\n            >\n              {/* <Breadcrumb style={{ margin: '16px 0' }}>\n                <Breadcrumb.Item>Home</Breadcrumb.Item>\n                <Breadcrumb.Item>User</Breadcrumb.Item>\n                <Breadcrumb.Item>Books</Breadcrumb.Item>\n              </Breadcrumb> */}\n              <Content\n                className='mainContent'\n                style={{\n                  backgroundImage: { bgImage }, padding: 0, margin: 0, height: '100%'\n                }}\n              >\n                { getContent(this) }\n              </Content>\n            </Layout>\n          </Layout>\n        </Layout>\n      </ErrorBoundary>\n    )\n  }\n}\n\nconst getContent = (context) => {\n  const { selectedShelf, openMenuKeys } = context.state\n  const { userData } = context.props\n\n  const selectedMenu = context.rootSubmenuKeys.indexOf(openMenuKeys[0])\n\n  if (context.props.userData) {\n    if (selectedMenu === 0) {\n      return (\n        <Suspense fallback={<Fallback />}>\n          <RelationshipGraph\n            userData={context.props.userData}\n          />\n        </Suspense>\n      )\n    } else if (selectedMenu === 1) {\n      return getBookLibrary(userData, selectedShelf)\n    }\n  }\n}\n\nconst getUserComponent = (userData) => {\n  if (userData) {\n    return (\n      <UserProfile\n        user={{\n          name: userData.name || '',\n          userName: userData.user_name || '',\n          image: userData.image_url || '',\n          link: userData.link,\n          description: typeof userData.about === 'string' ? userData.about : `Last active: ${userData.last_active}`\n        }}\n      />\n    )\n  }\n  return (\n    <UserProfile\n      user={{\n        name: '',\n        userName: '',\n        image: '',\n        description: ''\n      }}\n    />\n  )\n}\n\nconst getMenu = (context) => {\n  const { userData } = context.props\n  if (userData) {\n    console.log(userData)\n    return (\n      <Menu\n        mode='inline'\n        openKeys={context.state.openMenuKeys}\n        defaultSelectedKeys={['relationshipGraph']}\n        style={{\n          // height: '100%',\n          borderRight: 0\n        }}\n        theme='light'\n        onOpenChange={context.handleMenuOpenChange}\n        onSelect={sel => console.log('select', sel)}\n      >\n        <SubMenu\n          key='relGraph'\n          title={\n            <span><Icon type='global' />Graphs</span>\n          }\n        >\n          <Menu.Item key='relationshipGraph'>Relationship Graph</Menu.Item>\n        </SubMenu>\n        <SubMenu\n          key='shelves'\n          title={<span><Icon type='book' />Shelves</span>}\n        >\n          {\n            userData.user_shelves.map((shelf, idx) => (\n              <Menu.Item key={idx}>\n                {/* <Link to={`/user/${userData.id}/shelf/${shelf.name}`}>\n                  {`${shelf.name} (${shelf.books.book ? shelf.books.book.length || 1 : 0})`}\n                </Link> */}\n                <a\n                  onClick={event => {\n                    event.preventDefault()\n                    return context.setState({ selectedShelf: shelf.name })\n                  }}\n                  href='/#'\n                >\n                  {`${shelf.name} (${shelf.books.book ? shelf.books.book.length || 1 : 0})`}\n                </a>\n              </Menu.Item>\n            ))\n          }\n        </SubMenu>\n      </Menu>\n    )\n  }\n}\n\nconst getBookLibrary = (userData, shelf) => {\n  if (userData) {\n    let bookShelf = userData.user_shelves.find(sh => sh.name === shelf)\n    if (bookShelf) {\n      let { books } = bookShelf\n      if (!books.book) return <div />\n      books = books.book.length ? books.book : [ books.book ]\n      return (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            overflow: 'auto'\n          }}\n        >\n          <BookShelf\n            books={books}\n            margin={0}\n            columns={7}\n          />\n        </div>\n      )\n    }\n    return (\n      <div\n        style={{\n          padding: 20\n        }}\n      >\n        <p>Bookshelf doesn't exist.</p>\n      </div>\n    )\n  }\n  return <div />\n}\n\nexport default connect(\n  mapStorageToProps,\n  mapDispatchToProps\n)(Dashboard)\n"],"sourceRoot":""}