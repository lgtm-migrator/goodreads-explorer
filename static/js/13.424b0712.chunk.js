(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{208:function(e,a,t){"use strict";var n=t(42),o=t(43),l=t(46),r=t(44),i=t(47),s=t(21),c=t(1),u=t.n(c),h=t(2),d=t.n(h),m=t(249),b=(t(209),function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(r.a)(a).call(this,e))).state={checkedList:e.defaultCheckedList,indeterminate:!0,checkAll:!1},t.onChange=t.onChange.bind(Object(s.a)(Object(s.a)(t))),t.onCheckAllChange=t.onCheckAllChange.bind(Object(s.a)(Object(s.a)(t))),t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"onChange",value:function(e,a){var t=this,n=this.state.checkedList;a?n.push(e):n=n.filter(function(a){return a!==e}),this.setState({checkedList:n,indeterminate:!!n.length&&n.length<this.props.options.length,checkAll:n.length===this.props.options.length},function(){return t.props.onChange(t.state.checkedList)})}},{key:"onCheckAllChange",value:function(e){var a=this;this.setState({checkedList:e.target.checked?this.props.options:[],indeterminate:!1,checkAll:e.target.checked},function(){return a.props.onChange(a.state.checkedList)})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:this.props.className},u.a.createElement("div",{style:{borderBottom:"1px solid #E9E9E9"}},u.a.createElement(m.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"Check all")),u.a.createElement("ul",{className:"shelvesCheckboxGroup"},this.props.options.map(function(a,t){return u.a.createElement("li",{key:t},u.a.createElement(m.a,{onChange:function(t){return e.onChange(a,t.target.checked)},key:a,checked:e.props.defaultCheckedList.indexOf(a)>-1,disabled:e.props.disable[t]},e.props.optionLabel[t]?e.props.optionLabel[t]:a))})))}}]),a}(c.Component));b.defaultProps={disable:[],optionLabel:[]},b.propTpes={options:d.a.array.isRequired,onChange:d.a.func,optionLabel:d.a.array,defaultCheckedList:d.a.array,disable:d.a.array},a.a=b},209:function(e,a,t){},533:function(e,a,t){},540:function(e,a,t){},543:function(e,a,t){},544:function(e,a,t){},583:function(e,a,t){"use strict";t.r(a);var n=t(42),o=t(43),l=t(46),r=t(44),i=t(47),s=t(21),c=t(1),u=t.n(c),h=t(568),d=t(569),m=t(578),b=t(584),g=t(575),k=t(574),p=t(159),f=t(395),v=t.n(f),E=t(208),y=t(396),S={keys:["hot dog","burger","sandwich","kebab","fries","donut"],margin:{top:50,right:50,bottom:50,left:60},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"country",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"food",legendPosition:"middle",legendOffset:-40},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}]},C=(t(533),function(e){return u.a.createElement("div",{className:"barGraph"},u.a.createElement(y.ResponsiveBar,{data:e.data,indexBy:"key",margin:S.margin,padding:.3,colors:"nivo",colorBy:"id",defs:S.defs,fill:S.fill,borderColor:"inherit:darker(1.6)",axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:e.xLabel,legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:e.yLabel,legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"inherit:darker(1.6)",animate:!0,motionStiffness:90,motionDamping:15}))}),L=t(182),x=t(534),O=(t(540),1337),j=function(){var e=1e4*Math.sin(O++);return e-Math.floor(e)},P=function(e,a,t){return u.a.createElement(L.a,{key:e.value,title:"".concat(e.value," (").concat(e.count,")")},u.a.createElement("span",{key:e.value,style:{fontSize:"".concat(a,"em"),border:"2px solid ".concat(t),margin:"3px",padding:"3px",display:"inline-block"}},e.value))},B=function(e){var a=e.data.map(function(e){return{value:e.key,count:e.value}});return u.a.createElement(x.TagCloud,{tags:a,minSize:1,maxSize:5,renderer:P,randomNumberGenerator:j})},A=t(541),R=(t(543),function(e){return u.a.createElement("div",{className:"pieChart"},u.a.createElement(A.ResponsivePie,{data:e.data,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:"nivo",colorBy:"id",borderWidth:1,borderColor:"inherit:darker(0.2)",radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:"inherit",slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}]}))}),w=t(11),N=function(e){return e.reduce(function(e,a){return e+a},0)};function D(e,a){var t=[];return e.user_shelves.forEach(function(e){a.indexOf(e.name)>-1&&(e.books.book&&(e.books.book.length?e.books.book:[e.books.book]).forEach(function(a){t.push(Object(w.a)({},a,{property:{shelf:e.name},author:a.authors?a.authors.author.name:"Unknown"}))}))}),t}function z(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={};e.forEach(function(e){var o=e[a];t&&(o=t(o)),n[o]?n[o].push(e):n[o]=[e]});var o=Object.keys(n);return Object.values(n).map(function(e,a){return{key:o[a],value:e.length}})}t(544);var H=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(r.a)(a).call(this,e))).state={shelvesSelectPopover:!1,books:[],shelves:[],selectedShelves:[]},t.hideShelvesSelect=t.hideShelvesSelect.bind(Object(s.a)(Object(s.a)(t))),t.handleShelvesChange=t.handleShelvesChange.bind(Object(s.a)(Object(s.a)(t))),t.handleShelvesSelectVisibleChange=t.handleShelvesSelectVisibleChange.bind(Object(s.a)(Object(s.a)(t))),t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.userData.user_shelves.map(function(e){return e.books.book?{name:e.name,bookCount:e.books.book.length?e.books.book.length:1}:{name:e.name,bookCount:0}}),a=e.length>0?[e[0].name]:[],t=D(this.props.userData,a);this.setState({shelves:e,selectedShelves:a,books:t})}},{key:"hideShelvesSelect",value:function(){this.setState({shelvesSelectPopover:!1})}},{key:"handleShelvesSelectVisibleChange",value:function(e){this.setState({shelvesSelectPopover:e})}},{key:"handleShelvesChange",value:function(e){var a=D(this.props.userData,e);this.setState({books:a,selectedShelves:e})}},{key:"render",value:function(){var e=this.state,a=e.books,t=e.shelvesSelectPopover,n=e.shelves,o=e.selectedShelves,l=this.props.userData.user_shelves.map(function(e){return{id:e.name,label:e.name,value:parseInt(e.books.end),color:v()()}}),r=function(e){var a=e.map(function(e){return"string"===typeof e.num_pages?parseInt(e.num_pages):0}),t=e.map(function(e){return"string"===typeof e.average_rating?parseFloat(e.average_rating):0}),n=e.length,o=N(a),l=N(t);return{totalBooks:e.length,totalPages:o,averagePages:(o/n).toFixed(2),averageRating:(l/n).toFixed(2)}}(a),i=z(a,"published",function(e){return"string"===typeof e?e:"Unknown"}),s=z(a,"author"),c=z(a,"format",function(e){return"string"===typeof e?e:"Unknown"}),f=function(e){var a=z(e,"average_rating"),t={"0-1":0,"1-2":0,"2-3":0,"3-4":0,"4-5":0};a.forEach(function(e){switch(Math.floor(parseFloat(e.key))){case 0:t["0-1"]+=1;break;case 1:t["1-2"]+=1;break;case 2:t["2-3"]+=1;break;case 3:t["3-4"]+=1;break;case 4:t["4-5"]+=1}});var n=Object.keys(t);return Object.values(t).map(function(e,a){return{key:n[a],value:e}})}(a),y=function(e){var a=z(e,"num_pages"),t={"0-100":0,"100-200":0,"200-300":0,"300-400":0,"400-500":0,"500-600":0,"600-700":0,"700-800":0,"800-900":0,"900-1000":0,"1000-1100":0,"1100-1200":0,"1200+":0};a.forEach(function(e){switch(Math.floor(parseFloat(e.key)/100)){case 0:t["0-100"]+=1;break;case 1:t["100-200"]+=1;break;case 2:t["200-300"]+=1;break;case 3:t["300-400"]+=1;break;case 4:t["400-500"]+=1;break;case 5:t["500-600"]+=1;break;case 6:t["600-700"]+=1;break;case 7:t["700-800"]+=1;break;case 8:t["800-900"]+=1;break;case 9:t["900-1000"]+=1;break;case 10:t["1000-1100"]+=1;break;case 11:t["1100-1200"]+=1;break;case 12:t["1200+"]+=1}});var n=Object.keys(t);return Object.values(t).map(function(e,a){return{key:n[a],value:e}})}(a),S=function(e){var a=z(e,"publication_month"),t={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0};a.forEach(function(e){switch(parseInt(e.key)){case 1:t[1]=e.value;break;case 2:t[2]=e.value;break;case 3:t[3]=e.value;break;case 4:t[4]=e.value;break;case 5:t[5]=e.value;break;case 6:t[6]=e.value;break;case 7:t[7]=e.value;break;case 8:t[8]=e.value;break;case 9:t[9]=e.value;break;case 10:t[10]=e.value;break;case 11:t[11]=e.value;break;case 12:t[12]=e.value}});var n=Object.keys(t);return Object.values(t).map(function(e,a){return{key:n[a],value:e}})}(a),L=c.map(function(e){return{id:e.key,label:e.key,value:e.value,color:v()()}});return console.log("Books: ",a),console.log("YearHist: ",i),console.log("authorHist: ",s),console.log("ratingHist",f),console.log("numPagesHist",y),console.log("Shelves",l),console.log("formatDistribution",c),console.log("stats",r),u.a.createElement("div",{className:"statistics"},u.a.createElement(h.a,{gutter:16},u.a.createElement(d.a,{xs:24,sm:12,md:6,lg:4,xl:4},u.a.createElement(m.a,null,u.a.createElement(b.a,{title:"Total Shelves",value:n.length}))),u.a.createElement(d.a,{xs:24,sm:12,md:6,lg:4,xl:4},u.a.createElement(m.a,null,u.a.createElement(b.a,{title:"Total Books",value:r.totalBooks}))),u.a.createElement(d.a,{xs:24,sm:12,md:6,lg:4,xl:4},u.a.createElement(m.a,null,u.a.createElement(b.a,{title:"Total Pages",value:r.totalPages}))),u.a.createElement(d.a,{xs:24,sm:12,md:6,lg:4,xl:4},u.a.createElement(m.a,null,u.a.createElement(b.a,{title:"Average Pages",value:r.averagePages}))),u.a.createElement(d.a,{xs:24,sm:12,md:6,lg:4,xl:4},u.a.createElement(m.a,null,u.a.createElement(b.a,{title:"Average Rating",value:r.averageRating})))),u.a.createElement(g.a,null),u.a.createElement(h.a,null,u.a.createElement(m.a,{title:"Authors"},u.a.createElement(B,{data:s}))),u.a.createElement(g.a,null),u.a.createElement(h.a,{gutter:16},u.a.createElement(d.a,{xs:24,sm:24,md:12,lg:12,xl:12},u.a.createElement(m.a,{title:"Shelves"},u.a.createElement(R,{data:l}))),u.a.createElement(d.a,{xs:24,sm:24,md:12,lg:12,xl:12},u.a.createElement(m.a,{title:"Book Formats"},u.a.createElement(R,{data:L})))),u.a.createElement(g.a,{dashed:!0}),u.a.createElement(h.a,null,u.a.createElement(m.a,{title:"Histogram of Books by Number of Pages"},u.a.createElement(C,{data:y,xLabel:"Number of Pages",yLabel:"Number of Books"}))),u.a.createElement(g.a,{dashed:!0}),u.a.createElement(h.a,null,u.a.createElement(m.a,{title:"Histogram of Books by Published Month"},u.a.createElement(C,{data:S,xLabel:"Published Month",yLabel:"Number of Books"}))),u.a.createElement(g.a,{dashed:!0}),u.a.createElement(h.a,null,u.a.createElement(m.a,{title:"Histogram of Books by Published Year"},u.a.createElement(C,{data:i,xLabel:"Published Year",yLabel:"Number of Books"}))),u.a.createElement(g.a,{dashed:!0}),u.a.createElement(h.a,null,u.a.createElement(m.a,{title:"Histogram of Books by Average Rating"},u.a.createElement(C,{data:f,xLabel:"Average Rating",yLabel:"Number of Books"}))),u.a.createElement(g.a,{dashed:!0}),u.a.createElement(k.a,{content:u.a.createElement(E.a,{onChange:this.handleShelvesChange,options:n.map(function(e){return e.name}),defaultCheckedList:o,optionLabel:n.map(function(e){return"".concat(e.name," (").concat(e.bookCount,")")}),disable:n.map(function(e){return 0===e.bookCount}),className:"graphPopover"}),title:"Shelves (".concat(n.length,")"),trigger:"click",visible:t,onVisibleChange:this.handleShelvesSelectVisibleChange,placement:"bottomLeft"},u.a.createElement(p.a,{icon:"check-square",style:{position:"fixed",top:20,right:60}},"Select Shelves")))}}]),a}(c.Component);a.default=H}}]);
//# sourceMappingURL=13.424b0712.chunk.js.map