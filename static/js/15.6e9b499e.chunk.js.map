{"version":3,"sources":["assets/images/good_reads_explorer.png","components/ErrorBoundary/index.jsx","components/NetworkGraph/examples/basic/tiny_grid.png","components/UserProfile/index.jsx","containers/Dashboard/index.jsx"],"names":["module","exports","__webpack_require__","p","ErrorBoundary","props","_this","Object","_Users_amirchamp_Desktop_pj_rpi_colab_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_amirchamp_Desktop_pj_rpi_colab_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_amirchamp_Desktop_pj_rpi_colab_goodreads_explorer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","hasError","error","info","console","log","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","children","Component","Meta","Card","UserProfile","react_default","card","bordered","className","avatar","src","user","image","size","title","href","link","target","rel","name","description","length","concat","slice","RelationshipGraph","lazy","Promise","all","e","then","bind","Statistics","BookLibrary","SubMenu","Menu","Content","Layout","Sider","mapDispatchToProps","getUserInfo","getUserData","Dashboard","classCallCheck","possibleConstructorReturn","getPrototypeOf","openMenuKeys","graphSettings","handleMenuOpenChange","assertThisInitialized","rootSubmenuKeys","match","params","userId","openKeys","_this2","latestOpenKey","find","key","indexOf","setState","userData","layout","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","width","style","padding","background","Link","to","goodReadsLogo","alt","getUserComponent","getMenu","backgroundImage","bgImage","margin","height","getContent","context","Switch","Route","exact","path","render","react","fallback","Fallback","getBookLibrary","shelf","components_UserProfile","userName","user_name","image_url","about","last_active","menu","mode","defaultSelectedKeys","borderRight","theme","onOpenChange","icon","Item","id","user_shelves","map","idx","books","book","bookShelf","sh","toUpperCase","connect","userInfo","dashboard"],"mappings":"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","file":"static/js/15.6e9b499e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/good_reads_explorer.eff85db6.png\";","import React, { Component } from 'react'\n\nclass ErrorBoundary extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError (error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch (error, info) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, info)\n    console.log('Error', error, info)\n  }\n\n  render () {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII=\"","import React from 'react'\n\n// antd components\nimport { Avatar, Card } from 'antd'\n\nimport './style.css'\n\nconst { Meta } = Card\n\nconst UserProfile = props => (\n  <Card\n    bordered={false}\n    className='userCard'\n  >\n    <Meta\n      avatar={\n        <Avatar src={props.user.image} size='large' />\n      }\n      title={\n        <a\n          href={props.user.link}\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          {props.user.name}\n        </a>\n      }\n      description={\n        props.user.description.length > 160\n          ? `${props.user.description.slice(0, 160)}...`\n          : props.user.description}\n      className='userCardMeta'\n    />\n  </Card>\n)\n\nexport default UserProfile\n","import React, { Component, lazy, Suspense } from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport { getUserInfo, getUserData } from './action'\n\n// antd components\nimport { Layout, Menu, Icon } from 'antd'\n\nimport Fallback from '../../components/Fallback'\nimport UserProfile from '../../components/UserProfile'\nimport ErrorBoundary from '../../components/ErrorBoundary'\n\nimport bgImage from '../../components/NetworkGraph/examples/basic/tiny_grid.png'\n// import goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\nimport goodReadsLogo from '../../assets/images/good_reads_explorer.png'\n\nimport './style.css'\n\nconst RelationshipGraph = lazy(() => import('../RelationshipGraph'))\nconst Statistics = lazy(() => import('../Statistics'))\nconst BookLibrary = lazy(() => import('../BookLibrary'))\n\nconst { SubMenu } = Menu\nconst { Content, Sider } = Layout\n\nconst mapStorageToProps = state => ({\n  userInfo: state.dashboard.userInfo,\n  userData: state.dashboard.userData\n})\n\nconst mapDispatchToProps = {\n  getUserInfo,\n  getUserData\n}\n\nclass Dashboard extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      openMenuKeys: [ 'viz' ]\n    }\n    console.log('Init Settings', this.state.graphSettings)\n    console.log('props', this.props)\n    this.handleMenuOpenChange = this.handleMenuOpenChange.bind(this)\n\n    this.rootSubmenuKeys = ['viz', 'shelves']\n  }\n\n  componentDidMount () {\n    this.props.getUserData(this.props.match.params.userId)\n  }\n\n  handleMenuOpenChange (openKeys) {\n    const latestOpenKey = openKeys.find(key => this.state.openMenuKeys.indexOf(key) === -1)\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      this.setState({ openMenuKeys: openKeys })\n    } else {\n      this.setState({\n        openMenuKeys: latestOpenKey ? [latestOpenKey] : []\n      })\n    }\n  }\n\n  render () {\n    const { userData } = this.props\n    // console.log(userData)\n    return (\n      <ErrorBoundary>\n        <Layout\n          className='dashboard'\n        >\n          <Layout>\n            <Sider\n              breakpoint='lg'\n              collapsedWidth='0'\n              onBreakpoint={(broken) => { console.log(broken) }}\n              onCollapse={(collapsed, type) => { console.log(collapsed, type) }}\n              className='sider'\n              width={270}\n            >\n              <div className='sider-inner'>\n                <div className='logo' style={{\n                  padding: '10px',\n                  background: '#fff'\n                }}>\n                  <Link to={'/'}>\n                    <img\n                      src={goodReadsLogo}\n                      width='250px'\n                      alt='Goodreads'\n                    />\n                  </Link>\n                </div>\n                {\n                  getUserComponent(userData)\n                }\n                {\n                  getMenu(this)\n                }\n              </div>\n            </Sider>\n            <Layout>\n              <Content\n                className='mainContent'\n                style={{\n                  backgroundImage: { bgImage }, padding: 0, margin: 0, height: '100%'\n                }}\n              >\n                { getContent(this) }\n              </Content>\n            </Layout>\n          </Layout>\n        </Layout>\n      </ErrorBoundary>\n    )\n  }\n}\n\nconst getContent = (context) => {\n  const { userData } = context.props\n\n  if (context.props.userData) {\n    return (\n      <Switch>\n        <Route\n          exact\n          path='/user/:userId/viz/rgraph'\n          render={props => (\n            <Suspense fallback={<Fallback />}>\n              <RelationshipGraph\n                userData={context.props.userData}\n              />\n            </Suspense>\n          )}\n        />\n        <Route\n          exact\n          path='/user/:userId/viz/stats'\n          render={props => (\n            <Suspense fallback={<Fallback />}>\n              <Statistics\n                userData={context.props.userData}\n              />\n            </Suspense>\n          )}\n        />\n        <Route\n          exact\n          path='/user/:userId/shelf/:shelf'\n          render={props => getBookLibrary(userData, props.match.params.shelf)}\n        />\n      </Switch>\n    )\n  }\n}\n\nconst getUserComponent = (userData) => {\n  if (userData) {\n    return (\n      <UserProfile\n        user={{\n          name: userData.name || '',\n          userName: userData.user_name || '',\n          image: userData.image_url || '',\n          link: userData.link,\n          description: typeof userData.about === 'string' ? userData.about : `Last active: ${userData.last_active}`\n        }}\n      />\n    )\n  }\n  return (\n    <UserProfile\n      user={{\n        name: '',\n        userName: '',\n        image: '',\n        description: ''\n      }}\n    />\n  )\n}\n\nconst getMenu = (context) => {\n  const { userData } = context.props\n  if (userData) {\n    console.log(userData)\n    return (\n      <Menu\n        mode='inline'\n        openKeys={context.state.openMenuKeys}\n        defaultSelectedKeys={['rgraph']}\n        style={{\n          // height: '100%',\n          borderRight: 0\n        }}\n        theme='light'\n        onOpenChange={context.handleMenuOpenChange}\n      >\n        <SubMenu\n          key='viz'\n          title={\n            <span><Icon type='global' />Visualizations</span>\n          }\n        >\n          <Menu.Item key='rgraph'>\n            <Link to={`/user/${userData.id}/viz/rgraph`}>\n              Relationship Graph\n            </Link>\n          </Menu.Item>\n          <Menu.Item key='stats'>\n            <Link to={`/user/${userData.id}/viz/stats`}>\n              Statistics\n            </Link>\n          </Menu.Item>\n        </SubMenu>\n        <SubMenu\n          key='shelves'\n          title={<span><Icon type='book' />Shelves</span>}\n        >\n          {\n            userData.user_shelves.map((shelf, idx) => (\n              <Menu.Item key={idx}>\n                <Link to={`/user/${userData.id}/shelf/${shelf.name}`}>\n                  {`${shelf.name} (${shelf.books.book ? shelf.books.book.length || 1 : 0})`}\n                </Link>\n              </Menu.Item>\n            ))\n          }\n        </SubMenu>\n      </Menu>\n    )\n  }\n  return <div />\n}\n\nconst getBookLibrary = (userData, shelf) => {\n  if (userData) {\n    let bookShelf = userData.user_shelves.find(sh => sh.name === shelf)\n    if (bookShelf) {\n      let { books } = bookShelf\n      if (!books.book) return <div />\n      books = books.book.length ? books.book : [ books.book ]\n      return (\n        <Suspense fallback={<Fallback />} >\n          <BookLibrary\n            books={books}\n            title={bookShelf.name.toUpperCase()}\n          />\n        </Suspense>\n      )\n    }\n    return (\n      <div\n        style={{\n          padding: 20\n        }}\n      >\n        <p>Bookshelf doesn't exist.</p>\n      </div>\n    )\n  }\n  return <div />\n}\n\nexport default connect(\n  mapStorageToProps,\n  mapDispatchToProps\n)(Dashboard)\n"],"sourceRoot":""}