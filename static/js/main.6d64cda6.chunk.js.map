{"version":3,"sources":["components/NetworkGraph/examples/basic/tiny_grid.png","utils/constants.js","containers/App/reducer.js","containers/Dashboard/reducer.js","reducers.js","containers/App/saga.js","containers/Dashboard/action.js","utils/urls.js","utils/apiHelper.js","utils/goodreads.js","containers/Dashboard/saga.js","sagas.js","configureStore.js","containers/Home/index.jsx","components/UserProfile/index.jsx","components/NetworkGraph/components/Node/index.js","components/NetworkGraph/components/Link/index.js","components/NetworkGraph/components/Universe/index.js","components/NetworkGraph/index.js","components/BookCover/index.jsx","components/BookLibrary/index.jsx","utils/graphHelper.js","containers/Dashboard/index.jsx","containers/App/index.jsx","serviceWorker.js","index.js","assets/images/goodreads-logo-transparent.png"],"names":["module","exports","FETCH_START","FETCH_END","initialState","isLoading","app","state","arguments","length","undefined","type","ActionTypes","Object","objectSpread","userId","userInfo","userData","dashboard","action","user","rootReducer","combineReducers","helloWorld","runtime_regenerator_default","a","wrap","_context","prev","next","put","message","stop","_marked","this","saga","takeEvery","errorOccured","err","getUserInfoSuccess","getUserDataSuccess","grApiRoot","wrapByLoader","getGetParams","method","headers","Content-Type","handleResponse","response","status","error","code","statusText","Promise","reject","json","then","fetchApi","url","params","fetch","catch","fn","apiHelper_marked","getUserInfo","concat","getBooksOnShelf","shelf","Dashboard_saga","takeLatest","regenerator_default","mark","_callee","call","Goodreads","sent","Actions","t0","_callee2","shelves","bookOnShelves","_context2","user_shelves","user_shelf","map","name","all","idx","books","book","rootSaga","toConsumableArray","appSaga","dashboardSaga","sagas_marked","sagaMiddleware","createSagaMiddleware","Search","Input","Home","props","react_default","createElement","layout","className","row","col","span","src","goodReadsLogo","width","alt","placeholder","onSearch","searchHandler","Meta","Card","UserProfile","card","style","borderRadius","bordered","avatar","image","size","title","description","Node","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","clickHandler","bind","assertThisInitialized","doubleClickHandler","clickTimeout","_this2","clearTimeout","setTimeout","onClick","data","id","onDoubleClick","_this$props","radius","color","x","y","transform","cursor","r","fill","getThumbnail","Component","img","shortText","textStyle","xlinkHref","clipPath","dx","dy","fontSize","defaultProps","stroke","strokeWidth","fontWeight","Link","d","pointer","getPointer","markerEnd","getLabel","viewBox","refX","arrowOffset","refY","markerWidth","markerHeight","orient","opacity","href","startOffset","pointerEvents","textAnchor","Universe","getArcPath","getLinks","nextProps","setState","source","target","links","filter","link","l","scale","sweep","clockwise","x1","y1","x2","y2","siblings","linkIdx","scaleOrdinal","domain","range","arcScale","dr","Math","sqrt","_this$state","nodes","reduce","acc","push","components_Link","key","node","components_Node","assign","NetworkGraph","simulation","initSimulation","height","k","initZoomHandler","updateSimulation","onTick","svg","React","createRef","interval","fps","millis","Date","now","current","clientWidth","clientHeight","linkForce","forceLink","strength","distance","forceSimulation","force","_this3","select","zoomHandler","zoom","on","event","_this4","attraceForceStrength","chargeStrength","collisionRadiusOffset","collisionStrength","animation","velocityDecay","alphaStart","forEach","sourceNode","targetNode","forceCenter","forceManyBody","forceCollide","alpha","alphaTarget","restart","tick","e","currentTime","_this$state2","ref","components_Universe","parseInt","backgroundColor","overflow","position","imgStyle","transition","BookCover","_ref","index","photo","margin","direction","top","left","lib_default","BookLibrary","react_photo_gallery_esm","photos","small_image_url","replace","str","tmp","split","obj","window","open","columns","ImageComponent","minifyString","text","slice","word","charAt","toUpperCase","join","SubMenu","Menu","Content","Layout","Sider","mapDispatchToProps","getUserData","Dashboard","match","console","log","padding","background","es_Link","to","getUserComponent","getMenu","breadcrumb","Item","backgroundImage","bgImage","Switch","Route","exact","path","render","getGraph","getBookLibrary","shelfId","_getGraphData","bookNodes","authorNodes","publisherNodes","property","author","authors","$t","image_url","publisher","sourceType","targetType","publicationYear","publication_year","publicationMonth","publication_month","publicationDay","publication_day","values","getGraphData","components_NetworkGraph","components_UserProfile","userName","user_name","about","last_active","menu","mode","defaultOpenKeys","borderRight","theme","icon","bookShelf","find","sh","components_BookLibrary","connect","App","history","spin","spinning","delay","component","containers_Home","Redirect","withRouter","Boolean","location","hostname","store","middlewares","enhancers","applyMiddleware","apply","composeEnhancers","compose","createStore","runSaga","run","injectedReducers","injectedSagas","configureStore","ReactDOM","es","BrowserRouter","containers_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6d64cda6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII=\"","export const HELLO_WORLD = 'HELLO_WORLD'\nexport const FETCH_START = 'FETCH_START'\nexport const ERROR_OCCURED = 'ERROR_OCCURED'\nexport const NETWORK_ERROR_OCCURED = 'NETWORK_ERROR_OCCURED'\nexport const FETCH_END = 'FETCH_END'\n\nexport const FETCH_USER_INFO = 'FETCH_USER_INFO'\nexport const FETCH_USER_INFO_SUCCESS = 'FETCH_USER_INFO_SUCCESS'\nexport const FETCH_USER_DATA = 'FETCH_USER_DATA'\nexport const FETCH_USER_DATA_SUCCESS = 'FETCH_USER_DATA_SUCCESS'\n","import * as ActionTypes from '../../utils/constants'\n\nconst initialState = {\n  isLoading: 0\n}\n\nconst app = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_START: {\n      return { ...state, isLoading: state.isLoading + 1 }\n    }\n    case ActionTypes.FETCH_END: {\n      return { ...state, isLoading: state.isLoading - 1 }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default app\n","import * as ActionTypes from '../../utils/constants'\n\nconst initialState = {\n  userId: null,\n  userInfo: null,\n  userData: null\n}\n\nconst dashboard = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_USER_INFO: {\n      const { userId } = action\n      return { ...state, userId }\n    }\n    case ActionTypes.FETCH_USER_INFO_SUCCESS: {\n      const { userInfo } = action\n      return { ...state, userInfo: userInfo.user }\n    }\n    case ActionTypes.FETCH_USER_DATA: {\n      const { userId } = action\n      return { ...state, userId }\n    }\n    case ActionTypes.FETCH_USER_DATA_SUCCESS: {\n      const { userData } = action\n      return { ...state, userData: userData.user }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default dashboard\n","import { combineReducers } from 'redux'\nimport app from './containers/App/reducer'\nimport dashboard from './containers/Dashboard/reducer'\n\nconst rootReducer = combineReducers({ app, dashboard })\n\nexport default rootReducer\n","import { takeEvery, put } from 'redux-saga/effects'\nimport * as ActionTypes from '../../utils/constants'\n\nfunction * helloWorld () {\n  yield put({ type: 'SUCCESS', message: 'Hello World' })\n}\n\nexport default [\n  takeEvery(ActionTypes.HELLO_WORLD, helloWorld)\n]\n","import {\n  FETCH_USER_INFO,\n  FETCH_USER_INFO_SUCCESS,\n  FETCH_USER_DATA,\n  FETCH_USER_DATA_SUCCESS,\n  ERROR_OCCURED\n} from '../../utils/constants'\n\nexport const errorOccured = err => ({\n  type: ERROR_OCCURED,\n  err\n})\n\nexport const getUserInfo = userId => ({\n  type: FETCH_USER_INFO,\n  userId\n})\n\nexport const getUserInfoSuccess = userInfo => ({\n  type: FETCH_USER_INFO_SUCCESS,\n  userInfo\n})\n\nexport const getUserData = userId => ({\n  type: FETCH_USER_DATA,\n  userId\n})\n\nexport const getUserDataSuccess = userData => ({\n  type: FETCH_USER_DATA_SUCCESS,\n  userData\n})\n","export const grApiRoot = 'https://uqh87q11i5.execute-api.us-east-1.amazonaws.com/prod'\n","/* global fetch */\nimport { put } from 'redux-saga/effects'\nimport * as ActionTypes from './constants'\n\nexport const getGetParams = () => ({\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\nexport const handleResponse = (response) => {\n  if (response.status !== 200) {\n    const error = {\n      error: {\n        code: response.status,\n        message: 'Fetch error'\n      },\n      status: response.status,\n      statusText: response.statusText\n    }\n    return Promise.reject(error)\n  }\n  return response.json().then(json => json)\n}\n\nexport const fetchApi = (url, params) =>\n  fetch(url)\n    .then(handleResponse)\n    .catch(err => err)\n\nexport function * wrapByLoader (fn) {\n  yield put({ type: ActionTypes.FETCH_START })\n  yield fn()\n  yield put({ type: ActionTypes.FETCH_END })\n}\n","import { grApiRoot } from './urls'\nimport { getGetParams, fetchApi } from './apiHelper'\n\nexport function getUserInfo (userId) {\n  const url = `${grApiRoot}/user/show?id=${userId}`\n  return fetchApi(url, getGetParams())\n}\n\nexport function getBooksOnShelf (userId, shelf) {\n  const url = `${grApiRoot}/review/list?id=${userId}&shelf=${shelf}&per_page=200`\n  return fetchApi(url, getGetParams())\n}\n","import { takeLatest, put, call, all } from 'redux-saga/effects'\nimport * as ActionTypes from '../../utils/constants'\nimport * as Actions from './action'\nimport * as Goodreads from '../../utils/goodreads'\nimport { wrapByLoader } from '../../utils/apiHelper'\n\nconst getUserInfo = action =>\n  wrapByLoader(function * () {\n    try {\n      const response = yield call(Goodreads.getUserInfo, action.userId)\n      if (!response.error) {\n        const userInfo = response\n        yield put(Actions.getUserInfoSuccess(userInfo))\n      } else {\n        yield put(Actions.errorOccured(response))\n      }\n    } catch (err) {\n      yield put(Actions.errorOccured(err))\n    }\n  })\n\nconst getUserData = action =>\n  wrapByLoader(function * () {\n    try {\n      const response = yield call(Goodreads.getUserInfo, action.userId)\n      if (!response.error) {\n        const userData = response\n        const shelves = userData.user.user_shelves.user_shelf.map(shelf => shelf.name)\n        const bookOnShelves = yield all(\n          shelves.map(\n            shelf => call(Goodreads.getBooksOnShelf, action.userId, shelf)\n          )\n        )\n        userData.user.user_shelves = bookOnShelves.map((shelf, idx) => ({\n          name: shelves[idx],\n          books: shelf.books ? shelf.books : { book: [] }\n        }))\n        yield put(Actions.getUserDataSuccess(userData))\n      } else {\n        yield put(Actions.errorOccured(response))\n      }\n    } catch (err) {\n      yield put(Actions.errorOccured(err))\n    }\n  })\n\nexport default [\n  takeLatest(ActionTypes.FETCH_USER_INFO, getUserInfo),\n  takeLatest(ActionTypes.FETCH_USER_DATA, getUserData)\n]\n","import { all } from 'redux-saga/effects'\nimport appSaga from './containers/App/saga'\nimport dashboardSaga from './containers/Dashboard/saga'\n\nfunction * rootSaga () {\n  yield all([\n    ...appSaga,\n    ...dashboardSaga\n  ])\n}\n\nexport default rootSaga\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport rootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst sagaMiddleware = createSagaMiddleware()\n\nexport default function configureStore (initialState = {}) {\n  const middlewares = [sagaMiddleware]\n\n  const enhancers = [\n    applyMiddleware(...middlewares)\n  ]\n\n  // If Redux DevTools Extension is installed use it, otherwise use Redux compose\n  /* eslint-disable no-underscore-dangle */\n  const composeEnhancers =\n  process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : compose\n  /* eslint-enable */\n\n  const store = createStore(\n    rootReducer,\n    // fromJS(initialState),\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  // Extensions\n  store.runSaga = sagaMiddleware.run(rootSaga)\n  store.injectedReducers = {} // Reducer registry\n  store.injectedSagas = {} // Saga registry\n\n  // if(module.hot) {\n  //   // Enable Webpack hot module replacement for reducers\n  //   module.hot.accept('../reducers', () => {\n  //     const nextReducer = require('../reducers').default\n  //     store.replaceReducer(nextReducer)\n  //   })\n  // }\n\n  return store\n}\n","import React from 'react'\n\n// antd components\nimport { Row, Col, Layout, Input } from 'antd'\n\nimport './style.css'\n\nimport goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\n\nconst { Search } = Input\n\nconst Home = (props) => (\n  <Layout className='Home' >\n    <Row className='center'>\n      <Col span={6} />\n      <Col span={12}>\n        <img\n          src={goodReadsLogo}\n          width='100%'\n          alt='Goodreads'\n        />\n      </Col>\n      <Col span={6} />\n    </Row>\n    <Row className='center'>\n      <Col span={8} />\n      <Col span={8}>\n        <Search\n          placeholder='Enter user id'\n          onSearch={props.searchHandler}\n          // value='88517742' // seting default userId for dev\n        />\n      </Col>\n      <Col span={8} />\n    </Row>\n  </Layout>\n)\n\nexport default Home\n","import React from 'react'\n\n// antd components\nimport { Avatar, Card } from 'antd'\nconst { Meta } = Card\n\nconst UserProfile = props => (\n  <Card\n    style={{\n      borderRadius: '0px'\n    }}\n    bordered={false}\n  >\n    <Meta\n      avatar={\n        <Avatar src={props.user.image} size='large' />\n      }\n      title={props.user.name}\n      description={props.user.description}\n    />\n  </Card>\n)\n\nexport default UserProfile\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n// import './style.css'\n\nclass Node extends Component {\n  constructor () {\n    super()\n    this.clickHandler = this.clickHandler.bind(this)\n    this.doubleClickHandler = this.doubleClickHandler.bind(this)\n\n    // for click vs dblclick\n    this.clickTimeout = null\n  }\n\n  clickHandler () {\n    if (this.clickTimeout) {\n      clearTimeout(this.clickTimeout)\n      this.clickTimeout = null\n      this.doubleClickHandler()\n    } else {\n      this.clickTimeout = setTimeout(() => {\n        if (this.props.onClick) {\n          this.props.onClick({\n            type: 'NODE',\n            data: this.props.id\n          })\n        }\n      }, 300)\n    }\n  }\n\n  doubleClickHandler () {\n    if (this.props.onDoubleClick) {\n      this.props.onDoubleClick({\n        type: 'NODE',\n        data: this.props.id\n      })\n    }\n  }\n\n  render () {\n    const {\n      className,\n      radius,\n      color,\n      x,\n      y,\n      style\n    } = this.props\n    return (\n      <g\n        className={className}\n        transform={`translate(${x},${y})`}\n        onClick={this.clickHandler}\n        style={{\n          cursor: 'pointer'\n        }}\n      >\n        <circle\n          r={radius}\n          fill={color}\n          style={style}\n        />\n        {\n          getThumbnail(this.props)\n        }\n      </g>\n    )\n  }\n}\n\nconst getThumbnail = (props) => {\n  const { id, img, radius, shortText, textStyle } = props\n  if (img) {\n    return (\n      <g>\n        <defs>\n          <clipPath\n            id={`clip_${id}`}\n          >\n            <circle\n              r={radius - 1}\n              // fill={bgColor}\n            />\n          </clipPath>\n        </defs>\n        <image\n          xlinkHref={img}\n          clipPath={`url(#clip_${id})`}\n          x={-radius}\n          y={-radius}\n          width={radius * 2}\n        />\n      </g>\n    )\n  } else {\n    return (\n      <text\n        dx={-radius / 2}\n        dy={textStyle.fontSize / 2}\n        style={textStyle}\n      >\n        {shortText}\n      </text>\n    )\n  }\n}\n\nNode.defaultProps = {\n  className: 'node',\n  radius: 35,\n  color: '#FFFFFF',\n  style: {\n    r: 35,\n    stroke: '#375E97',\n    strokeWidth: '3px'\n  },\n  textStyle: {\n    fontSize: 15,\n    fill: '#fff',\n    strokeWidth: '3px',\n    fontWeight: 'normal'\n  }\n}\n\nNode.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  shortText: PropTypes.string,\n  className: PropTypes.string,\n  img: PropTypes.string,\n  color: PropTypes.string,\n  radius: PropTypes.number,\n  style: PropTypes.shape({\n    r: PropTypes.number,\n    stroke: PropTypes.string,\n    strokeWidth: PropTypes.string\n  }),\n  textStyle: PropTypes.shape({\n    fontSize: PropTypes.number,\n    fill: PropTypes.string,\n    strokeWidth: PropTypes.string,\n    fontWeight: PropTypes.string\n  }),\n  x: PropTypes.number,\n  y: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func\n}\n\nexport default Node\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Link extends Component {\n  render () {\n    const { d, pointer, style, id } = this.props\n    return (\n      <g>\n        { getPointer(this.props) }\n        <path\n          id={id}\n          style={style}\n          d={d}\n          markerEnd={pointer ? `url(#${id}_pointer)` : pointer}\n        />\n        { getLabel(this.props) }\n      </g>\n    )\n  }\n}\n\nconst getPointer = (props) => {\n  if (props.pointer) {\n    return (\n      <defs>\n        <marker\n          id={`${props.id}_pointer`}\n          viewBox='0 -5 10 10'\n          refX={props.arrowOffset}\n          refY='-2'\n          markerWidth='6'\n          markerHeight='6'\n          orient='auto'\n        >\n          <path\n            d='M0,-5L10,0L0,5'\n            fill='#666'\n            style={{\n              opacity: 1\n            }} />\n        </marker>\n      </defs>\n    )\n  }\n}\n\nconst getLabel = (props) => {\n  if (props.type) {\n    return (\n      <text>\n        <textPath\n          dx={0}\n          dy={5}\n          href={`#${props.id}`}\n          startOffset='50%'\n          style={props.textStyle}\n        >\n          {props.type}\n        </textPath>\n      </text>\n    )\n  }\n}\n\nLink.defaultProps = {\n  style: {\n    strokeWidth: 1.5,\n    fill: 'none',\n    stroke: 'gba(50, 50, 50, 0.2)'\n  },\n  textStyle: {\n    pointerEvents: 'none',\n    textAnchor: 'middle',\n    fill: '#333'\n  },\n  pointer: true\n}\n\nLink.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  style: PropTypes.object,\n  textStyle: PropTypes.object,\n  d: PropTypes.string.isRequired,\n  pointer: PropTypes.bool\n}\n\nexport default Link\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { scaleOrdinal } from 'd3-scale'\n\nimport Node from '../Node'\nimport Link from '../Link'\n\nclass Universe extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      ...this.props\n    }\n\n    this.getArcPath = this.getArcPath.bind(this)\n    this.getLinks = this.getLinks.bind(this)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({ ...nextProps })\n  }\n\n  getLinks (source, target) {\n    return this.state.links\n      .filter(\n        link =>\n          link.source.id === source.id &&\n          link.target.id === target.id\n      )\n      .map(l => l.type)\n  }\n\n  getArcPath (link, clockwise = true) {\n    const x1 = clockwise ? link.source.x : link.target.x\n    const y1 = clockwise ? link.source.y : link.target.y\n    const x2 = clockwise ? link.target.x : link.source.x\n    const y2 = clockwise ? link.target.y : link.source.y\n    const dx = x2 - x1\n    const dy = y2 - y1\n    const siblings = this.getLinks(link.source, link.target)\n    // const siblingCount = siblings.length\n    const siblingCount = 2\n    const xRotation = 0\n    const largeArc = 0\n\n    if (siblingCount > 1) {\n      // console.log(siblings)\n      const arcScale = scaleOrdinal()\n        .domain(siblings)\n        .range([1, siblingCount])\n      const linkIdx = arcScale(link.type)\n      let scale\n      let sweep\n      if (linkIdx === 1) {\n        sweep = 1\n        scale = 1\n        // return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n      } else if (linkIdx % 2 === 0) {\n        sweep = 0\n        scale = linkIdx / 2\n      } else if (linkIdx % 3 === 0) {\n        sweep = 1\n        scale = linkIdx / 3 + 1\n      }\n      const dr =\n        Math.sqrt(dx * dx + dy * dy) / (1 + (1 / siblingCount) * (scale - 1))\n      return `M${x1},${y1}A${dr * 1.7},${dr *\n        1.7} ${xRotation}, ${largeArc}, ${sweep} ${x2},${y2}`\n    }\n    return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n  }\n\n  render () {\n    const { nodes, links } = this.state\n    return (\n      <g\n        className={this.props.className}\n        transform={this.props.transform}\n      >\n        <g className='links'>\n          {\n            links.reduce((acc, link, idx) => {\n              if (typeof link.source === 'object' && typeof link.target === 'object') {\n                acc.push(\n                  <Link\n                    key={idx}\n                    data={link}\n                    d={this.getArcPath(link)}\n                    style={link.style}\n                    id={link.id}\n                    type={link.type}\n                    arrowOffset={link.target.radius * 1.45}\n                  />\n                )\n                return acc\n              }\n              return acc\n            }, [])\n          }\n        </g>\n        <g className='nodes'>\n          {\n            nodes.map((node, idx) =>\n              <Node\n                key={idx}\n                onClick={this.props.onClick}\n                onDoubleClick={this.props.onDoubleClick}\n                {...node}\n              />\n            )\n          }\n        </g>\n      </g>\n    )\n  }\n}\n\nUniverse.defaultProps = {\n  className: 'universe',\n  nodes: [],\n  links: []\n}\n\nUniverse.propTypes = {\n  className: PropTypes.string,\n  nodes: PropTypes.array,\n  links: PropTypes.array\n}\n\nexport default Universe\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { select, event } from 'd3-selection'\nimport {\n  forceLink,\n  forceSimulation,\n  forceCenter,\n  forceManyBody,\n  forceCollide\n} from 'd3-force'\nimport { zoom } from 'd3-zoom'\nimport Universe from './components/Universe'\n// import './style.css'\n\nclass NetworkGraph extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      nodes: [],\n      links: [],\n      simulation: this.initSimulation(),\n      width: 100,\n      height: 100,\n      transform: {\n        x: 0,\n        y: 0,\n        k: 1\n      }\n    }\n    this.initSimulation = this.initSimulation.bind(this)\n    this.initZoomHandler = this.initZoomHandler.bind(this)\n    this.updateSimulation = this.updateSimulation.bind(this)\n    this.onTick = this.onTick.bind(this)\n    this.svg = React.createRef()\n    this.nodes = []\n    this.links = []\n\n    // to timit fps\n    this.interval = (1000 / this.props.fps)\n    this.millis = Date.now()\n  }\n\n  componentDidMount () {\n    this.initZoomHandler()\n    this.setState({\n      ...this.props,\n      width: this.svg.current.clientWidth,\n      height: this.svg.current.clientHeight\n    }, () => {\n      this.updateSimulation()\n    })\n  }\n\n  initSimulation () {\n    const linkForce = forceLink()\n      .id(link => link.id)\n      .strength(link => link.strength)\n      .distance(link => link.distance)\n    const simulation = forceSimulation().force('link', linkForce)\n\n    return simulation\n  }\n\n  initZoomHandler () {\n    // TODO: replace select dependency\n    // add zoom capabilities\n    const svg = select('.svgGraph')\n    const zoomHandler = zoom().on('zoom', () => {\n      this.setState({\n        transform: event.transform\n      })\n    })\n    svg.call(zoomHandler).on('dblclick.zoom', null)\n  }\n\n  updateSimulation () {\n    const {\n      nodes,\n      links,\n      simulation,\n      width,\n      height,\n      attraceForceStrength,\n      chargeStrength,\n      collisionRadiusOffset,\n      collisionStrength,\n      animation,\n      velocityDecay,\n      alphaStart\n    } = this.state\n\n    this.nodes = nodes\n    this.links = []\n\n    // bind nodes to links\n    links.forEach(link => {\n      const sourceNode = this.nodes.filter(\n        node => node.id === link.source\n      )[0]\n      const targetNode = this.nodes.filter(\n        node => node.id === link.target\n      )[0]\n      if (sourceNode && targetNode) {\n        this.links.push({\n          ...link,\n          source: sourceNode,\n          target: targetNode\n        })\n      }\n    })\n    simulation\n      .nodes(this.nodes)\n      .on('tick', this.onTick)\n    simulation.force('link').links(this.links)\n    simulation\n      .force('center', forceCenter(width / 2, height / 2))\n      .force('attraceForce', forceManyBody().strength(attraceForceStrength))\n      .force('charge', forceManyBody().strength(chargeStrength))\n      .force(\n        'collision',\n        forceCollide()\n          .radius(node => node.radius + collisionRadiusOffset)\n          .strength(collisionStrength)\n      )\n\n    simulation\n      .alpha(alphaStart)\n      .alphaTarget(0)\n      .velocityDecay(velocityDecay)\n      .restart()\n\n    if (!animation) {\n      while (simulation.alpha() >= 0.02) {\n        simulation.tick()\n      }\n    }\n  }\n\n  onTick (e) {\n    // limit rendering\n    const currentTime = Date.now()\n    if (currentTime - this.millis > this.interval) {\n      this.millis = currentTime\n      this.setState({\n        nodes: this.nodes,\n        links: this.links\n      })\n    }\n    // this.setState({\n    //   nodes: this.nodes,\n    //   links: this.links\n    // })\n  }\n\n  render () {\n    const { nodes, links, transform } = this.state\n    return (\n      <div\n        className='networkGraph'\n        style={{\n          height: '100%',\n          width: '100%'\n        }}\n      >\n        <svg\n          className='svgGraph'\n          width='100%'\n          height='100%'\n          ref={this.svg}\n        >\n          <Universe\n            nodes={nodes}\n            links={links}\n            transform={\n              `translate(${transform.x},${transform.y}) scale(${transform.k})`\n            }\n            onClick={this.props.onClick}\n            onDoubleClick={this.props.onDoubleClick}\n          />\n        </svg>\n        <span className='zoomIndicator'>{parseInt(transform.k * 100, 10)} %</span>\n      </div>\n    )\n  }\n}\n\nNetworkGraph.defaultProps = {\n  nodes: [],\n  links: [],\n  attraceForceStrength: 10,\n  chargeStrength: -10,\n  collisionRadiusOffset: 15,\n  collisionStrength: 0.5,\n  animation: true,\n  fps: 60,\n  alphaStart: 1,\n  velocityDecay: 0.4\n}\n\nNetworkGraph.propTypes = {\n  nodes: PropTypes.array,\n  links: PropTypes.array,\n  attraceForceStrength: PropTypes.number,\n  chargeStrength: PropTypes.number,\n  collisionRadiusOffset: PropTypes.number,\n  collisionStrength: PropTypes.number,\n  animation: PropTypes.bool,\n  fps: PropTypes.number,\n  alphaStart: PropTypes.number,\n  velocityDecay: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func\n}\n\nexport default NetworkGraph\n","import React from 'react'\nimport LazyLoad from 'react-lazyload'\n\nconst style = {\n  backgroundColor: '#eee',\n  cursor: 'pointer',\n  overflow: 'hidden',\n  position: 'relative'\n}\n\nconst imgStyle = {\n  transition: 'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s'\n}\n\nconst BookCover = ({\n  index,\n  onClick,\n  photo,\n  margin,\n  direction,\n  top,\n  left\n}) => {\n  if (direction === 'column') {\n    style.position = 'absolute'\n    style.left = left\n    style.top = top\n  }\n  return (\n    <div\n      style={{ margin, height: photo.height, width: photo.width, ...style }}\n      className='lazy-image'\n    >\n      <LazyLoad\n        overflow\n      >\n        <img\n          style={\n            { ...imgStyle }\n          }\n          {...photo}\n          onClick={e => onClick(e, { index, photo })}\n          alt={photo.alt}\n          title={photo.alt}\n        />\n      </LazyLoad>\n    </div>\n  )\n}\n\nexport default BookCover\n","import React from 'react'\nimport Gallery from 'react-photo-gallery'\nimport BookCover from '../BookCover'\n\nconst BookLibrary = (props) => (\n  <Gallery\n    photos={\n      props.books.map((book, idx) => ({\n        // ...book,\n        src: book.small_image_url.replace(/.(s\\/)/g, str => {\n          const tmp = str.split('s/')\n          if (tmp[0] < 58) {\n            return tmp[0].concat('l/')\n          }\n          return str\n        }),\n        width: 98,\n        height: 148,\n        alt: book.title,\n        key: book.title\n      }))\n    }\n    onClick={\n      (event, obj) => {\n        window.open(obj.photo.link, '_blank')\n      }\n    }\n    direction='column'\n    margin={props.margin}\n    columns={props.columns}\n    ImageComponent={BookCover}\n  />\n)\n\nexport default BookLibrary\n","const minifyString = text => {\n  return text.split(' ').slice(0, 3).map(word => word.charAt(0).toUpperCase()).join('')\n}\n\nexport function getGraphData (userData) {\n  let books = []\n  let bookNodes = {}\n  let authorNodes = {}\n  let publisherNodes = {}\n  let nodes = []\n  let links = []\n\n  const bookShelves = userData.user_shelves\n\n  // nodes.push({\n  //   text: userData.name,\n  //   id: userData.id,\n  //   img: userData.image_url,\n  //   type: 'USER',\n  //   color: '#336B87',\n  //   radius: 55,\n  //   style: {\n  //     r: 55,\n  //     stroke: '#375E97',\n  //     strokeWidth: '3px'\n  //   }\n  // })\n\n  bookShelves.forEach(shelf => {\n    if (shelf.books.book) {\n      const tmpList = shelf.books.book.length ? shelf.books.book : [ shelf.books.book ]\n      tmpList.forEach(book => {\n        books.push(\n          {\n            ...book,\n            property: {\n              shelf: shelf.name\n            }\n          }\n        )\n      })\n    }\n  })\n\n  books.forEach(book => {\n    const { author } = book.authors\n\n    if (!bookNodes[book.id.$t]) {\n      // Create Book Nodes\n      bookNodes[book.id.$t] = {\n        id: book.id.$t,\n        text: book.title,\n        type: 'BOOK',\n        img: book.image_url,\n        color: '#336B87',\n        radius: 35,\n        style: {\n          r: 35,\n          stroke: '#375E97',\n          strokeWidth: '3px'\n        }\n      }\n      // Create Author Nodes\n      if (!authorNodes[author.id]) {\n        authorNodes[author.id] = {\n          id: author.id,\n          text: author.name,\n          type: 'AUTHOR',\n          img: author.image_url.$t,\n          color: '#FB6542',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#FB6542',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Publisher Nodes\n      if (!publisherNodes[book.publisher]) {\n        publisherNodes[book.publisher] = {\n          id: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          text: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          type: 'PUBLISHER',\n          color: '#DDA487',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#7D4427',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Authoer --> Book relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.id.$t,\n        targetType: 'BOOK',\n        type: 'AUTHOR_OF',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n      // Create Book --> Publisher relationship\n      links.push({\n        source: book.id.$t,\n        sourceType: 'BOOK',\n        target: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n        targetType: 'PUBLISHER',\n        type: 'PUBLISHED_BY',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n\n      // Create Author --> Publisher relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.publisher,\n        targetType: 'PUBLISHER',\n        type: 'WORKS_WITH',\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n    }\n  })\n\n  // Collect all nodes\n  nodes = Object.values(bookNodes)\n    .concat(Object.values(authorNodes))\n    .concat(Object.values(publisherNodes))\n    .map((node, idx) => ({\n      ...node,\n      shortText: minifyString(node.text),\n      textStyle: {\n        fontSize: 15,\n        fill: '#fff',\n        strokeWidth: '2px',\n        fontWeight: 'normal'\n      }\n    }))\n\n  return {\n    nodes,\n    links: links.map(link => ({\n      ...link,\n      strength: 0.5,\n      distance: 350,\n      id: `${link.source}-${link.type}-${link.target}`,\n      style: {\n        strokeWidth: 1.5,\n        fill: 'none',\n        stroke: 'rgba(50, 50, 50, 0.2)'\n      }\n    }))\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport { getUserInfo, getUserData } from './action'\n\n// antd components\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd'\n\nimport UserProfile from '../../components/UserProfile'\nimport NetworkGraph from '../../components/NetworkGraph'\nimport BookLibrary from '../../components/BookLibrary'\n\nimport { getGraphData } from '../../utils/graphHelper'\n\nimport bgImage from '../../components/NetworkGraph/examples/basic/tiny_grid.png'\nimport goodReadsLogo from '../../assets/images/goodreads-logo-transparent.png'\n\nimport './style.css'\n\nconst { SubMenu } = Menu\nconst { Content, Sider } = Layout\n\nconst mapStorageToProps = state => ({\n  userInfo: state.dashboard.userInfo,\n  userData: state.dashboard.userData\n})\n\nconst mapDispatchToProps = {\n  getUserInfo,\n  getUserData\n}\n\nclass Dashboard extends Component {\n  componentDidMount () {\n    this.props.getUserData(this.props.match.params.userId)\n  }\n\n  render () {\n    const { userData } = this.props\n    console.log(userData)\n    return (\n      <Layout\n        className='dashboard'\n      >\n        <Layout>\n          <Sider width={250} >\n            <div className='logo' style={{\n              padding: '10px',\n              background: '#fff'\n            }}>\n              <Link to={'/'}>\n                <img\n                  src={goodReadsLogo}\n                  width='100%'\n                  alt='Goodreads'\n                />\n              </Link>\n            </div>\n            {\n              getUserComponent(userData)\n            }\n            {\n              getMenu(this.props)\n            }\n          </Sider>\n          <Layout style={{ padding: '0 24px 24px' }}>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n              <Breadcrumb.Item>Home</Breadcrumb.Item>\n              <Breadcrumb.Item>User</Breadcrumb.Item>\n              <Breadcrumb.Item>Books</Breadcrumb.Item>\n            </Breadcrumb>\n            <Content\n              className='mainContent'\n              style={{\n                backgroundImage: { bgImage }, padding: 0, margin: 0, height: '100%'\n              }}\n            >\n              {/* <p>\n                User Data for <code>{this.props.match.params.userId}</code>\n              </p> */}\n              {\n                <Switch>\n                  <Route\n                    exact\n                    path='/user/:userId/explore'\n                    render={() => getGraph(userData)}\n                  />\n                  <Route\n                    exact\n                    path='/user/:userId/shelf/:shelfId'\n                    render={props => getBookLibrary(userData, props.match.params.shelfId)}\n                  />\n                </Switch>\n              }\n            </Content>\n          </Layout>\n        </Layout>\n      </Layout>\n    )\n  }\n}\n\nconst getGraph = (userData) => {\n  if (userData) {\n    const { nodes, links } = getGraphData(userData)\n    return (\n      <NetworkGraph\n        nodes={nodes}\n        links={links}\n      />\n    )\n  }\n  return <div />\n}\n\nconst getUserComponent = (userData) => {\n  if (userData) {\n    return (\n      <UserProfile\n        user={{\n          name: userData.name || '',\n          userName: userData.user_name || '',\n          image: userData.image_url || '',\n          description: typeof userData.about === 'string' ? userData.about : `Last active: ${userData.last_active}`\n        }}\n      />\n    )\n  }\n  return (\n    <UserProfile\n      user={{\n        name: '',\n        userName: '',\n        image: '',\n        description: ''\n      }}\n    />\n  )\n}\n\nconst getMenu = (props) => {\n  const { userData } = props\n  console.log(userData)\n  if (userData) {\n    return (\n      <Menu\n        mode='inline'\n        defaultOpenKeys={['explore']}\n        style={{\n          // height: '100%',\n          borderRight: 0\n        }}\n        theme='light'\n      >\n        <SubMenu\n          key='explore'\n          title={\n            <Link to={`/user/${props.match.params.userId}/explore`}>\n              <span><Icon type='book' />Explore Books</span>\n            </Link>\n          }\n        />\n        <SubMenu key='shelves' title={<span><Icon type='book' />Shelves</span>}>\n          {\n            userData.user_shelves.map((shelf, idx) => (\n              <Menu.Item key={idx}>\n                <Link to={`/user/${userData.id}/shelf/${shelf.name}`}>\n                  {`${shelf.name} (${shelf.books.book ? shelf.books.book.length || 1 : 0})`}\n                </Link>\n              </Menu.Item>\n            ))\n          }\n        </SubMenu>\n      </Menu>\n    )\n  }\n}\n\nconst getBookLibrary = (userData, shelf) => {\n  if (userData) {\n    let bookShelf = userData.user_shelves.find(sh => sh.name === shelf)\n    if (bookShelf) {\n      let { books } = bookShelf\n      if (!books.book) return <div />\n      books = books.book.length ? books.book : [ books.book ]\n      return (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            overflow: 'auto'\n          }}\n        >\n          <BookLibrary\n            books={books}\n            margin={0}\n            columns={7}\n          />\n        </div>\n      )\n    }\n    return (\n      <div\n        style={{\n          padding: 20\n        }}\n      >\n        <p>Bookshelf doesn't exist.</p>\n      </div>\n    )\n  }\n  return <div />\n}\n\nexport default connect(\n  mapStorageToProps,\n  mapDispatchToProps\n)(Dashboard)\n","import React, { Component } from 'react'\nimport {\n  withRouter,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport { connect } from 'react-redux'\n\n// antd components\nimport { Spin } from 'antd'\n\nimport 'antd/dist/antd.css'\n\n// containers\nimport Home from '../Home'\nimport Dashboard from '../Dashboard'\n\nimport './style.css'\n\nconst mapStateToProps = state => ({\n  isLoading: state.app.isLoading\n})\n\nconst mapDispatchToProps = {\n\n}\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    this.searchHandler = this.searchHandler.bind(this)\n  }\n\n  searchHandler (userId) {\n    this.props.history.push(`/user/${userId}`)\n  }\n\n  componentDidMount () {\n    // Maybe get top books from goodreads?\n  }\n\n  render () {\n    return (\n      <Spin\n        className='App'\n        spinning={this.props.isLoading > 0}\n        delay={500}\n      >\n        <Switch>\n          <Route\n            exact\n            path='/'\n            component={props => (\n              <Home\n                searchHandler={this.searchHandler}\n              />\n            )}\n          />\n          <Route\n            path='/user/:userId'\n            component={Dashboard}\n          />\n          <Redirect to='/' />\n        </Switch>\n      </Spin>\n    )\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(App)\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport configureStore from './configureStore'\nimport App from './containers/App'\nimport * as serviceWorker from './serviceWorker'\n\nimport './style.css'\n\nconst store = configureStore()\n\nReactDOM.render(<Provider store={store}><Router><App /></Router></Provider>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/goodreads-logo-transparent.63c17e20.png\";"],"sourceRoot":""}